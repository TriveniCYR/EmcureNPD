@using Microsoft.AspNetCore.Http;
@using Microsoft.Extensions.Configuration
@inject Microsoft.Extensions.Localization.IStringLocalizer<EmcureNPD.Resource.Shared> SharedLocalizer
@inject IConfiguration Configuration
@{
    string jsVersion = @Configuration.GetSection("StaticJS")["version"];
}
<style>
.navbar-badge {
    font-size: .8rem;
    font-weight: 300;
    padding: 2px 4px;
    position: inherit;
    right: 15px;
    top: -20px;
}
</style>
<!-- Navbar -->
<nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
        @*<li class="nav-item d-none d-sm-inline-block">
            <a href="~/Home/Index" class="nav-link">Home</a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
            <a href="#" class="nav-link">Contact</a>
        </li>*@
    </ul>

    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">

        <!-- Notifications Dropdown Menu -->
        <li class="nav-item dropdown">
            <a class="nav-link" data-toggle="dropdown" href="#">
                <i class="far fa-bell notification"></i>
                <span class="badge badge-warning navbar-badge notification" id="NotificationNo"> </span>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right notification-dropdown">
                <span class="dropdown-item dropdown-header" id="NotificationCount">0 Notifications</span>
                <div class="dropdown-divider"></div>
                <div id="notificationCounter">

               </div>
                @*<div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-users mr-2"></i> 8 friend requests
                    <span class="float-right text-muted text-sm">12 hours</span>
                </a>*@
                <div class="dropdown-divider"></div>
                <a href="@Url.Action("AllNotification","Notifications")" class="dropdown-item dropdown-footer">See All Notifications</a>
            </div>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-widget="fullscreen" href="#" role="button">
                <i class="fas fa-expand-arrows-alt"></i>
            </a>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link" data-toggle="dropdown" href="#" title="User">
                <i class="far fa-user"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                <span class="dropdown-item dropdown-header">@Convert.ToString(Context.Session.GetString(EmcureNPD.Web.Helpers.UserHelper.LoggedInUserName))</span>
                <div class="dropdown-divider"></div>
               @* <a class="dropdown-item" href="#">
                    <i class="fas fa-id-badge mr-2"></i> Manage Profile
                </a>*@
                <a href="@Url.Action("ChangePassword", "User")" class="dropdown-item">
                    <i class="fas fa-user-secret mr-2"></i>Change Password
                </a>
                <div class="dropdown-divider "></div>
                <form asp-action="Logout" asp-controller="Account" method="post">
                    <button class="dropdown-item" type="submit">
                        <i class="fas fa-sign-out-alt mr-2"></i> Logout
                    </button>
                </form>
            </div>
        </li>
    </ul>
</nav>
<!-- /.navbar -->
@section MyScripts {
    <script src="~/lib/signalr/signalr.js"></script>
    <script type="text/javascript" src="~/js/Custom/Notification/Notification.js?v=@jsVersion"></script>
    <script>
        var GetAllNotificationURL = "@EmcureNPD.Web.Helpers.APIURLHelper.GetAllNotification";
        var ErrorMessage = "@SharedLocalizer["Error"]";
    </script>
    }