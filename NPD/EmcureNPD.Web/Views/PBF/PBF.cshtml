@using EmcureNPD.Utility.Models
@using Microsoft.AspNetCore.Mvc.Localization
@using EmcureNPD.Utility.Utility;
@using EmcureNPD.Utility.Enums
@inject Microsoft.Extensions.Localization.IStringLocalizer<EmcureNPD.Resource.Master> MasterLocalizer
@inject Microsoft.Extensions.Localization.IStringLocalizer<EmcureNPD.Resource.Shared> SharedLocalizer
@using Microsoft.Extensions.Configuration
@using EmcureNPD.Web.Helpers;
@inject IHelper Helper
@inject IConfiguration Configuration
@model EmcureNPD.Business.Models.PBFFormEntity
@{
    ViewData["Title"] = "PBF";
    string jsVersion = @Configuration.GetSection("StaticJS")["version"];
    long PbfRndDetailsId = Model.PidfPbfGeneralRnd == null ? 0 : Model.PidfPbfGeneralRnd.PbfRndDetailsId;
    long valPidfId = Model.PidfPbfGeneralRnd == null ? 0 : Model.PidfPbfGeneralRnd.PidfId;
    long valPbfId = Model.PidfPbfGeneralRnd == null ? 0 : Model.PidfPbfGeneralRnd.PbfId;
    RolePermissionModel objPermssion = (RolePermissionModel)ViewBag.Access;
    //string IsApproveAllow = (objPermssion.Approve) ? "" : "display: none";
    //string IsViewAllow = (objPermssion.View) ? "" : "display: none";
    var IsViewMode = Convert.ToString(Context.Request.Query["IsView"]);

}

<div id="dvPIDFAccrdion"></div>
<div id="dvIPDAccrdion"></div>
<div id="dvCommercialAccrdion"></div>
<div class="content-header">
    <h2 class="m-0" id="hPIDFTitle">Project Budget Form</h2>
</div>
<div id="dvPBFContainer">
    <form id="AddPBFForm" asp-action="PBF" asp-controller="PBF" method="post">
        <input type="hidden" asp-for="Pidfid" />
        <input type="hidden" asp-for="Pidfpbfid" />
        <input type="hidden" asp-for="PBFGeneralId" />
        <input type="hidden" asp-for="BusinessUnitId" />
        <input type="hidden" asp-for="BusinessUnitsByUser" id="PBF_BusinessUnitsByUser" />
        <input type="hidden" asp-for="StrengthId" />
        <input type="hidden" asp-for="SaveType" />
        <input type="hidden" asp-for="OralName" />
        <input type="hidden" id="hdnPBFGeneralId" value="@(Model.PBFGeneralId)" />
        <input type="hidden" id="hdnPIDFPBFId" value="@(Model.Pidfpbfid)" />
        <input type="hidden" id="hdnPBFIsView" value="@(Context.Request.Query["IsView"] == "1" ? "1" : "0")" />
        <input type="hidden" id="currentTabIndex" name="currentTabIndex" value="0" />
        <input type="hidden" asp-for="BusinessUnitName" value="@(Context.Request.Query["bui"])" />
        <input type="hidden" asp-for="EncPidfid" value="@(Context.Request.Query["pidfid"])" />
        <input type="hidden" id="selectedCountryInput" name="selectedCountry" value="">


        <div class="container-fluid background-white-card">
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.ProjectName,@MasterLocalizer["ProjectName"], new { @class = "control-label" })<span class="text-danger">*</span>
                        @Html.TextBoxFor(model => model.ProjectName, new {@class = "form-control", @placeholder = @MasterLocalizer["ProjectName"] ,@required="required",@readonly ="readonly",@tabindex=-1})
                        @Html.ValidationMessageFor(model => model.ProjectName, "", new { @class = "text-danger" })
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group required">

                        @Html.LabelFor(model => model.MarketMappingId,@SharedLocalizer["Market"], new { @class = "control-label" })
                        <span class="text-danger">*</span>
                        @*<select id="BusinessUnitId" name="BusinessUnitId" class="form-control readOnlyUpdate" required></select>*@
                        @Html.DropDownListFor(model => model.MarketMappingId, new List<SelectListItem> { }, new { @class = "form-control market", @multiple = "multiple", @required = "required" })
                        <input type="hidden" id="hdnMarketMappingIds" value="@Model.MarketIds" />
                        @Html.ValidationMessageFor(model => model.MarketMappingId, "", new { @class = "text-danger" })
                    </div>
                </div>
                @* <div class="col-md-3">
                <div class="form-group required">
                @Html.LabelFor(model => model.Market,@MasterLocalizer["Market"], new { @class = "control-label" })<span class="text-danger">*</span>
                @Html.TextBoxFor(model => model.Market, new {@class = "form-control", @placeholder = @MasterLocalizer["Market"] ,@required="required"})

                </div>
                </div>*@
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.PatentStatus,"Patent Status", new { @class = "control-label" })<span class="text-danger">*</span>
                        @Html.TextBoxFor(model => model.PatentStatus, new {@class = "form-control customvalidateformcontrol", @placeholder = "Patent Status" ,@required="required",@readonly ="readonly",@tabindex=-1})

                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.BerequirementId, "BE Requirement", new { @class = "control-label" })<span class="text-danger">*</span>
                        <input type="hidden" id="hdnBERequirementId" value="@Model.BerequirementId" />
                        <select id="BERequirementId" name="BerequirementId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                        @Html.ValidationMessageFor(model => model.BerequirementId, "", new { @class = "text-danger" })

                    </div>
                </div>

            </div>
            <div class="row">
                <div class="col-md-3" style="display:none;">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.NumberOfApprovedAnda,"No. of  Approved ANDAs", new { @class = "control-label" })<span class="text-danger">*</span>
                        @Html.TextBoxFor(model => model.NumberOfApprovedAnda, new {@class = "form-control ",  Value = "0",@placeholder = "No. of  Approved ANDAs" ,@required="required",type = "number", min = 0})
                        @Html.ValidationMessageFor(model => model.NumberOfApprovedAnda, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.ProductTypeId, "Product Type", new { @class = "control-label" })<span class="text-danger">*</span>
                        <input type="hidden" id="hdnProductTypeId" value="@Model.ProductTypeId" />
                        <select id="ProductTypeId" name="ProductTypeId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                        @Html.ValidationMessageFor(model => model.ProductTypeId, "", new { @class = "text-danger" })

                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.PlantId, "Plant Name", new { @class = "control-label" })<span class="text-danger">*</span>
                        <input type="hidden" id="hdnPlantId" value="@Model.PlantId" />
                        <select id="PlantId" name="PlantId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                        @Html.ValidationMessageFor(model => model.PlantId, "", new { @class = "text-danger" })

                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.WorkflowId, "Work Flow", new { @class = "control-label" })<span class="text-danger">*</span>
                        <input type="hidden" id="hdnWorkflowId" value="@Model.WorkflowId" />
                        <select id="WorkflowId" name="WorkflowId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                        @Html.ValidationMessageFor(model => model.WorkflowId, "", new { @class = "text-danger" })

                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.DosageId, "Dosage", new { @class = "control-label" })<span class="text-danger">*</span>
                        <input type="hidden" id="hdnPbfDosageFormId" value="@Model.DosageId" />
                        <select id="PbfDosageFormId" name="DosageId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                        @Html.ValidationMessageFor(model => model.DosageId, "", new { @class = "text-danger" })

                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.SponsorBusinessPartner,"Sponsor / Business Partner", new { @class = "control-label" })<span class="text-danger">*</span>
                        @Html.TextBoxFor(model => model.SponsorBusinessPartner, new {@class = "form-control customvalidateformcontrol", @placeholder = "Sponsor / Business Partner" ,@required="required"})
                        @Html.ValidationMessageFor(model => model.SponsorBusinessPartner, "", new { @class = "text-danger" })

                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.FillingTypeId,"Filling Type", new { @class = "control-label" })<span class="text-danger">*</span>
                        <input type="hidden" id="hdnFillingTypeId" value="@Model.FillingTypeId" />
                        <select id="FillingTypeId" name="FillingTypeId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                        @Html.ValidationMessageFor(model => model.FillingTypeId, "", new { @class = "text-danger" })

                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.BusinessRelationable,@MasterLocalizer["Business Rationable"], new { @class = "control-label" })<span class="text-danger">*</span>
                        @Html.TextAreaFor(model => model.BusinessRelationable, new {@class = "form-control customvalidateformcontrol", @placeholder = @MasterLocalizer["Business Rationable"] ,@required="required"})
                        @Html.ValidationMessageFor(model => model.BusinessRelationable, "", new { @class = "text-danger" })

                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group required">
                        @Html.LabelFor(model => model.ScopeObjectives,"Scope & Objectives", new { @class = "control-label" })<span class="text-danger">*</span>
                        @Html.TextAreaFor(model => model.ScopeObjectives, new { @class = "form-control customvalidateformcontrol", @placeholder = "Scope & Objectives" ,@required="required"})
                        @Html.ValidationMessageFor(model => model.ScopeObjectives, "", new { @class = "text-danger" })

                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-header bg-primary">
                            <h3 class="card-title mb-0">

                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    Formulation Detail
                                </button>

                            </h3>
                            <div class="card-tools">
                                <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">

                                <div class="col-md-3">
                                    <div class="form-group required">
                                        @Html.LabelFor(model => model.FormRnDdivisionId, "Form R&D Division", new { @class = "control-label" })<span class="text-danger">*</span>
                                        <input type="hidden" id="hdnPbfFormRNDDivisionId" value="@Model.FormRnDdivisionId" />
                                        <select id="PbfFormRNDDivisionId" name="FormRnDdivisionId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                                        @Html.ValidationMessageFor(model => model.FormRnDdivisionId, "", new { @class = "text-danger" })

                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group required">
                                        @Html.LabelFor(model => model.ProjectInitiationDate,"Project Initiation Date", new { @class = "control-label" })<span class="text-danger">*</span>
                                        @Html.TextBoxFor(@modal=> modal.ProjectInitiationDate,"{0:yyyy-MM-dd}",new{@type="date",@class="form-control readOnlyUpdate customvalidateformcontrol", @placeholder = "Project Initiation Date",@required="required"})
                                        @Html.ValidationMessageFor(model => model.ProjectInitiationDate, "", new { @class = "text-danger" })

                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group required">
                                        @Html.LabelFor(model => model.RnDhead,"R&D Head", new { @class = "control-label" })<span class="text-danger">*</span>
                                        @Html.TextBoxFor(model => model.RnDhead, new {@class = "form-control customvalidateformcontrol", @placeholder = "R&D Head",@required="required" })
                                        @Html.ValidationMessageFor(model => model.RnDhead, "", new { @class = "text-danger" })

                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group required">
                                        @Html.LabelFor(model => model.ProjectManager,"Project Manager", new { @class = "control-label" })<span class="text-danger">*</span>
                                        @Html.TextBoxFor(model => model.ProjectManager, new {@class = "form-control customvalidateformcontrol", @placeholder = "Project Manager" ,@required="required"})
                                        @Html.ValidationMessageFor(model => model.ProjectManager, "", new { @class = "text-danger" })

                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group required">
                                        @Html.LabelFor(model => model.PackagingTypeId, "Packaging type", new { @class = "control-label" })<span class="text-danger">*</span>
                                        <input type="hidden" id="hdnPbfPackagingTypeId" value="@Model.PackagingTypeId" />
                                        <select id="PbfPackagingTypeId" name="PackagingTypeId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                                        @Html.ValidationMessageFor(model => model.PackagingTypeId, "", new { @class = "text-danger" })

                                    </div>
                                </div>
                                @* <div class="col-md-3">
                                <div class="form-group required">
                                @Html.LabelFor(model => model.ManufacturingId, "Manufacturing Plant", new { @class = "control-label" })<span class="text-danger">*</span>
                                <input type="hidden" id="hdnPbfManufacturingId" value="@Model.ManufacturingId" />
                                <select id="PbfManufacturingId" name="ManufacturingId" class="form-control readOnlyUpdate customvalidateformcontrol" ></select>
                                @Html.ValidationMessageFor(model => model.ManufacturingId, "", new { @class = "text-danger" })

                                </div>
                                </div>*@
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div id="divbusinessunit" class="card card-primary card-tabs">
                <input type="hidden" id="PIDFBusinessUnitId" value="@Model.BusinessUnitId" />
                <input type="hidden" id="PIDFId" value="@Model.Pidfid" />

                <div class="card-header p-0 pt-1">
                    <ul class="nav nav-tabs text-center m-0" id="custom-tabs-two-tab" role="tablist"></ul>
                </div>

                @*<div class="card card-primary card-tabs">
                <div class="card-header p-0 pt-1">
                <ul class="nav nav-tabs row text-center m-0" id="navCountryTabs" role="tablist"></ul>
                </div>
                </div>*@
            </div>


            @*------------End----BU tabs--------------------------------*@
            <div class="clsContentUnderBUTab_PBF">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header bg-primary">
                                <h3 class="card-title mb-0">

                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        General
                                    </button>

                                </h3>
                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body" id="dvGeneralPBF">
                                <div class="row">
                                    @*  <div class="col-md-3">
                                    <div class="form-group required">
                                    @Html.LabelFor(model => model.Capex,"Capex", new { @class = "control-label" })<span class="text-danger">*</span>
                                    @Html.TextBoxFor(model => model.Capex, new {@class = "form-control customvalidateformcontrol", @placeholder = "Capex" ,@required="required"})
                                    @Html.ValidationMessageFor(model => model.Capex, "", new { @class = "text-danger" })

                                    </div>
                                    </div>*@
                                    @*  <div class="col-md-3">
                                    <div class="form-group required tableTDHintDays">
                                    @Html.LabelFor(model => model.TotalExpense,"Total Expenses", new { @class = "control-label" })<span class="text-danger">*</span>
                                    @Html.TextBoxFor(model => model.TotalExpense, new { @class = "form-control customvalidateformcontrol", @placeholder = "Total Expenses", @readonly ="readonly",@required="required",@tabindex=-1 })
                                    <span>Lacs</span>
                                    </div>
                                    </div>*@

                                    <div class="col-md-3">
                                        <div class="form-group required">
                                            @Html.LabelFor(model => model.ProjectComplexity,"Project Complexity", new { @class = "control-label" })<span class="text-danger">*</span>
                                            <input type="hidden" id="hdnGeneralProjectComplexity" value="@Model.ProjectComplexity" />
                                            <select id="GeneralProjectComplexity" name="ProjectComplexity" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                                            @Html.ValidationMessageFor(model => model.ProjectComplexity, "", new { @class = "text-danger" })

                                        </div>
                                    </div>
                                    @* <div class="col-md-3">
                                    <div class="form-group required">
                                    @Html.LabelFor(model => model.GeneralProductTypeId, "Product Type", new { @class = "control-label" })<span class="text-danger">*</span>
                                    <input type="hidden" id="hdnGeneralProductTypeId" value="@Model.GeneralProductTypeId" />
                                    <select id="GeneralProductTypeId" name="GeneralProductTypeId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                                    @Html.ValidationMessageFor(model => model.GeneralProductTypeId, "", new { @class = "text-danger" })

                                    </div>
                                    </div>*@

                                    <div class="col-md-3">
                                        <div class="form-group required">
                                            <label class="control-label">Budget and Timeline Submission</label><span class="text-danger">*</span>
                                            @Html.TextBoxFor(@modal=> modal.BudgetTimelineSubmissionDate,"{0:yyyy-MM-dd}",new{@type="date",@class="form-control readOnlyUpdate customvalidateformcontrol",@required="required"})
                                            @Html.ValidationMessageFor(model => model.BudgetTimelineSubmissionDate, "", new { @class = "text-danger" })

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group required">
                                            <label class="control-label">Project Development Initial</label><span class="text-danger">*</span>
                                            @Html.TextBoxFor(@modal=> modal.ProjectDevelopmentInitialDate,"{0:yyyy-MM-dd}",new{@type="date",@class="form-control readOnlyUpdate customvalidateformcontrol",@required="required"})
                                            @Html.ValidationMessageFor(model => model.ProjectDevelopmentInitialDate, "", new { @class = "text-danger" })

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group required">
                                            @Html.LabelFor(model => model.FormulationGLId, "Formulation GL", new { @class = "control-label" })<span class="text-danger">*</span>
                                            <input type="hidden" id="hdnGeneralFormulationGLId" value="@Model.FormulationGLId" />
                                            <select id="GeneralFormulationGLId" name="FormulationGLId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                                            @Html.ValidationMessageFor(model => model.FormulationGLId, "", new { @class = "text-danger" })

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group required">
                                            @Html.LabelFor(model => model.AnalyticalGLId, "Analytical GL", new { @class = "control-label" })<span class="text-danger">*</span>
                                            <input type="hidden" id="hdnGeneralAnalyticalGLId" value="@Model.AnalyticalGLId" />
                                            <select id="GeneralAnalyticalGLId" name="AnalyticalGLId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                                            @Html.ValidationMessageFor(model => model.AnalyticalGLId, "", new { @class = "text-danger" })

                                        </div>
                                    </div>
                                    @* <div class="col-md-3">
                                    <div class="form-group required">
                                    <label class="control-label">Test Licence Availability</label><span class="text-danger">*</span>
                                    @Html.HiddenFor(model => model.TestLicenseAvailability, new { @class = "control-label" ,@required="required"})
                                    <div stylle="display: inline-block;" id="testlicence">
                                    </div>
                                    @Html.ValidationMessageFor(model => model.TestLicenseAvailability, "", new { @class = "text-danger" })
                                    </div>
                                    </div>
                                    <div class="col-md-3">
                                    <div class="form-group required">
                                    <label class="control-label">R&D Responsible Person</label><span class="text-danger">*</span>
                                    @Html.TextBoxFor(model => model.TestLicenseAvailability, new { @class = "form-control" ,@required="required"})

                                    @Html.ValidationMessageFor(model => model.TestLicenseAvailability, "", new { @class = "text-danger" })
                                    </div>
                                    </div>
                                    <div class="col-md-3">
                                    <div class="form-group required">
                                    <label class="control-label">Type Of Development</label><span class="text-danger">*</span>
                                    @Html.TextBoxFor(model => model.TestLicenseAvailability, new { @class = "form-control" ,@required="required"})

                                    @Html.ValidationMessageFor(model => model.TestLicenseAvailability, "", new { @class = "text-danger" })
                                    </div>
                                    </div>
                                    <div class="col-md-3">
                                    <div class="form-group required">
                                    <label class="control-label">Pivotal Batches Manufactured Completed</label><span class="text-danger">*</span>
                                    @Html.TextBoxFor(model => model.TestLicenseAvailability, new { @class = "form-control" ,@required="required"})

                                    @Html.ValidationMessageFor(model => model.TestLicenseAvailability, "", new { @class = "text-danger" })
                                    </div>
                                    </div>
                                    <div class="col-md-3">
                                    <div class="form-group required">
                                    <label class="control-label">Pivotal Batches Manufactured Completed</label><span class="text-danger">*</span>
                                    @Html.TextBoxFor(model => model.TestLicenseAvailability, new { @class = "form-control" ,@required="required"})

                                    @Html.ValidationMessageFor(model => model.TestLicenseAvailability, "", new { @class = "text-danger" })
                                    </div>
                                    </div>*@

                                    @* <div class="col-md-12">
                                    <div class="card">
                                    <div class="card-header bg-primary">
                                    <h3 class="card-title mb-0">

                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    Strength
                                    </button>

                                    </h3>
                                    <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                    <i class="fas fa-minus"></i>
                                    </button>
                                    </div>
                                    </div>
                                    <div class="card-body pbftables">
                                    <div class="row">
                                    <table id="tableGeneralStrength" class="table text-center" style="width:100%">
                                    </table>
                                    </div>
                                    </div>
                                    </div>

                                    </div>*@
                                    @*  --------------Start--Reference Product Detail-------------------------------------*@
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="card-header bg-primary">
                                                    <h3 class="card-title mb-0">

                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                            Reference Product Detail
                                                        </button>

                                                    </h3>
                                                    <div class="card-tools">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.BrandName,"Brand", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                <input type="hidden" id="hdnBrandName" value="@Model.BrandName" />
                                                                @Html.TextBoxFor(model => model.BrandName, new {@class = "form-control customvalidateformcontrol", @placeholder = "Brand" ,@required="required"})
                                                                @Html.ValidationMessageFor(model => model.BrandName, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>

                                                        <div class="col-md-3">
                                                            <div class="form-group required">

                                                                @Html.LabelFor(model => model.RFDApplicant,"Applicant", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                <input type="hidden" id="hdnRFDApplicant" value="@Model.RFDApplicant" />

                                                                @Html.TextBoxFor(model => model.RFDApplicant, new {@class = "form-control customvalidateformcontrol", @placeholder = "Applicant" ,@required="required"})
                                                                @Html.ValidationMessageFor(model => model.RFDApplicant, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.RFDCountryId, "Country", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                <input type="hidden" id="hdnPbfRFDCountryId" value="@Model.RFDCountryId" />
                                                                <select id="PbfRFDCountryId" name="RFDCountryId" class="form-control readOnlyUpdate customvalidateformcontrol" required></select>
                                                                @Html.ValidationMessageFor(model => model.RFDCountryId, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.RFDIndication,"Indication", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                <input type="hidden" id="hdnRFDIndication" value="@Model.RFDIndication" />

                                                                @Html.TextBoxFor(model => model.RFDIndication, new {@class = "form-control customvalidateformcontrol", @placeholder = "Indication",@required="required" })
                                                                @Html.ValidationMessageFor(model => model.RFDIndication, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.RFDInnovators, new { @class = "control-label" }) <span class="text-danger">*</span>
                                                                <input type="hidden" id="hdnRFDInnovators" value="@Model.RFDInnovators" />
                                                                @Html.TextBoxFor(model => model.RFDInnovators, new { @class = "form-control  customvalidateformcontrol", @placeholder = @MasterLocalizer["RFDInnovators"],@maxlength="100",@required="required"})
                                                                @Html.ValidationMessageFor(model => model.RFDInnovators, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.RFDInitialRevenuePotential, new { @class = "control-label" }) <span class="text-danger">*</span>
                                                                @Html.TextBoxFor(model => model.RFDInitialRevenuePotential, new { @autocomplete = "off", @class = "form-control checkbox-checked customvalidateformcontrol", @placeholder = @MasterLocalizer["RFDInitialRevenuePotential"],@maxlength="100",@required="required" })
                                                                @Html.ValidationMessageFor(model => model.RFDInitialRevenuePotential, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.RFDPriceDiscounting, new { @class = "control-label" }) <span class="text-danger">*</span>
                                                                @Html.TextBoxFor(model => model.RFDPriceDiscounting, new { @autocomplete = "off",@type="number", @class = "form-control checkbox-checked customvalidateformcontrol", @placeholder = @MasterLocalizer["RFDPriceDiscounting"],@maxlength="100",@required="required" })
                                                                @Html.ValidationMessageFor(model => model.RFDPriceDiscounting,"", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.RFDCommercialBatchSize, new { @class = "control-label" }) <span class="text-danger">*</span>
                                                                @Html.TextBoxFor(model => model.RFDCommercialBatchSize,  new { @autocomplete = "off", @class = "form-control checkbox-checked customvalidateformcontrol", @placeholder = @MasterLocalizer["RFDCommercialBatchSize"],@maxlength="100",@required="required" })
                                                                @Html.ValidationMessageFor(model => model.RFDCommercialBatchSize, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    @*  --------------End--Reference Product Detail-------------------------------------*@

                                    @*  Total Expenses*@
                                    <div class="col-12">
                                        <div class="card">
                                            <div class="card-header bg-primary">
                                                <h3 class="card-title mb-0">
                                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                        Total Expenses
                                                    </button>
                                                </h3>
                                                <div class="card-tools">
                                                    <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                        <i class="fas fa-minus" aria-hidden="true"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="card-body pbftables">
                                                <div class="row">

                                                    <div class="clearfix bg-dark mb-2 pb-1 pt-1">TOTAL PROJECT COST: <span class="pbfTotalExpense" id="lblTotalExpenseForPIDF"></span> Lacs Includes Cost all R&amp;D division + Litigation cost (if any)</div>
                                                    <table id="tablerndtotalexpenses" class="table text-center tableTDHintDays" style="width:100%">
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    @*  TDP*@
                                    <div class="col-12">
                                        <div class="card">
                                            <div class="card-header bg-primary">
                                                <h3 class="card-title mb-0">
                                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                        TDP(Trade Dress Proposal)
                                                    </button>
                                                </h3>
                                                <div class="card-tools">
                                                    <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                        <i class="fas fa-minus" aria-hidden="true"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="card-body pbftables">
                                                @*<div class="row">
                                                <div class="col-md-3">
                                                <div class="clearfix bg-dark mb-2 pb-1 pt-1">Formulater Responsible Person:
                                                <input type="text" id="FormulaterResponsiblePerson" class="form-control" name="PbfGeneralTdpEntity.FormulaterResponsiblePerson" />
                                                </div>
                                                </div>*@
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group required">

                                                            @Html.LabelFor(model =>  model.PbfGeneralTdpEntity[0].FormulaterResponsiblePerson,"Formulater Responsible Person", new { @class = "control-label" })
                                                            @Html.TextBoxFor(model => model.PbfGeneralTdpEntity[0].FormulaterResponsiblePerson, new {@class = "form-control", @placeholder = "Formulater Responsible Person",@id="FormulaterResponsiblePerson" })
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group required">


                                                            @Html.LabelFor(model =>  model.PbfGeneralTdpEntity[0].Approch,"Approch", new { @class = "control-label"  })
                                                            @Html.TextBoxFor(model => model.PbfGeneralTdpEntity[0].Approch, new {@class = "form-control", @placeholder = "Approch" ,@id="Approch"})

                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row" id="headerDiv">
                                                    <div class="col-md-4" style="background-color:black;color:whitesmoke;font-size: 25px;font-weight: bold;">
                                                        TDP
                                                    </div>
                                                    <div class="col-md-4" style="background-color:black;color:yellow;font-size: 25px;font-weight: bold;">
                                                        Innovator
                                                        <input type="hidden" id="IsEmcure" name="PbfGeneralTdpEntity[0].IsEmcure" value="false" />
                                                    </div>
                                                    <div class="col-md-4" style="background-color:black;color:darkorange;font-size: 25px;font-weight: bold;">
                                                        Emcure
                                                        <input type="hidden" id="IsEmcure" name="PbfGeneralTdpEntity[0].IsEmcure" value="true" />
                                                    </div>
                                                </div>
                                                <div class="row" id="TdpDiv">
                                                    <table id="Tdptable" class="table table-bordered table-striped table-hover">

                                                        <thead id="tdpThead" class="bg-primary text-bold">
                                                        </thead>
                                                        <tbody id="tbody">
                                                            <tr id="tr1">
                                                                <td>Description</td>
                                                            </tr>
                                                            <tr id="tr2">
                                                                <td>Shape</td>
                                                            </tr>
                                                            <tr id="tr3">
                                                                <td>Color</td>
                                                            </tr>
                                                            <tr id="tr4">
                                                                <td>Engraving</td>
                                                            </tr>
                                                            <tr id="tr5">
                                                                <td>Packaging</td>
                                                            </tr>
                                                            <tr id="tr6">
                                                                <td>Primary</td>
                                                            </tr>
                                                            <tr id="tr7">
                                                                <td>Secondry</td>
                                                            </tr>
                                                            <tr id="tr8">
                                                                <td>Self-Life</td>
                                                            </tr>
                                                            <tr id="tr9">
                                                                <td>Storage/Handling</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @*  --------------R&D Detail-------------------------------------*@
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="card">
                                                <div class="card-header bg-primary">
                                                    <h3 class="card-title mb-0">

                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                            R&D Detail
                                                        </button>

                                                    </h3>
                                                    <div class="card-tools">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.RndResponsiblePerson,"R&D Responsible Person", new { @class = "control-label" })
                                                                <input type="hidden" id="PbfRndDetailsId" name="PidfPbfGeneralRnd.PbfRndDetailsId" value="@PbfRndDetailsId" />
                                                                <input type="hidden" id="PidfPbfGeneralRnd_PidfId" name="PidfPbfGeneralRnd.PidfId" value="@valPidfId" />
                                                                <input type="hidden" id="PidfPbfGeneralRnd_PbfId" name="PidfPbfGeneralRnd.PbfId" value="@valPbfId" />
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.RndResponsiblePerson, new {@class = "form-control", @placeholder = "R&D Responsible Person" })
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.RndResponsiblePerson, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">

                                                                @Html.LabelFor(model =>  model.PidfPbfGeneralRnd.TypeOfDevelopmentDate,"Type Of Development", new { @class = "control-label" })

                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.TypeOfDevelopmentDate, new {@class = "form-control", @placeholder = "Type Of Development",@type="Date" })
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.TypeOfDevelopmentDate, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">

                                                                @Html.LabelFor(model =>  model.PidfPbfGeneralRnd.PivotalBatchesManufacturedCompleted,"Pivotal Batches mfd. Completed", new { @class = "control-label",@title="Pivotal Batches Manufactured Completed" })

                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.PivotalBatchesManufacturedCompleted, new {@class = "form-control", @placeholder = "Pivotal Batches Manufactured Completed",@type="Date"})
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.PivotalBatchesManufacturedCompleted, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.StabilityResultsDayZero,"Stability Results Day 0", new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.StabilityResultsDayZero, new {@class = "form-control", @placeholder = "Stability Results Day 0",@type="date" })
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.StabilityResultsDayZero, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.StabilityResultsThreeMonth,"Stability Results 3 Month", new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.StabilityResultsThreeMonth, new {@class = "form-control", @placeholder = "Stability Results 3 Month",@type="date" })
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.StabilityResultsThreeMonth, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.StabilityResultsSixMonth,"Stability Results 6 Month", new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.StabilityResultsSixMonth, new {@class = "form-control", @placeholder = "Stability Results 6 Month",@type="date" })
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.StabilityResultsSixMonth, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required" style="margin-top: 40px;">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.NonStandardProduct,"Is Non-Standard Product", new { @class = "control-label" })
                                                                <input type="checkbox" class="checkbox-checked" id="NonStandardProduct" name="PidfPbfGeneralRnd.NonStandardProduct" />
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.Pivotals, new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.Pivotals,  new { @autocomplete = "off", @class = "form-control ",@placeholder="Pivotals" })
                                                                @Html.ValidationMessageFor(model => model.PidfPbfGeneralRnd.Pivotals, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.BatchSizes,"Batch Sizes", new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.BatchSizes, new {@class = "form-control", @placeholder = "Batch Sizes"})
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.BatchSizes, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model => model.PidfPbfGeneralRnd.NoMofBatchesPerStrength,"No. Of Batches/Strength", new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.NoMofBatchesPerStrength, new {@class = "form-control", @placeholder = "No. Of Batches/Strength",@type="number" })
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.NoMofBatchesPerStrength, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model =>  model.PidfPbfGeneralRnd.SiteTransferDate,"Site Transfer", new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.SiteTransferDate, new {@class = "form-control", @placeholder = "Site Transfer",@type="Date"})
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.SiteTransferDate, "", new { @class = "text-danger" })

                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model =>  model.PidfPbfGeneralRnd.ApiOrderedDate,"API Ordered", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.ApiOrderedDate, new {@class="form-control readOnlyUpdate customvalidateformcontrol", @placeholder = "Api Ordered",@type="Date",@required="required"})
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.ApiOrderedDate, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="row">

                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model =>  model.PidfPbfGeneralRnd.ApiReceivedDate,"API Received", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.ApiReceivedDate, new {@class="form-control readOnlyUpdate customvalidateformcontrol", @placeholder = "Api Received",@type="Date",@required="required"})
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.ApiReceivedDate, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-group required">
                                                                @Html.LabelFor(model =>  model.PidfPbfGeneralRnd.FinalFormulationApproved,"Final Formulation Approved", new { @class = "control-label" })
                                                                @Html.TextBoxFor(model => model.PidfPbfGeneralRnd.FinalFormulationApproved, new {@class = "form-control", @placeholder = "Final Formulation Approved",@type="Date"})
                                                                @Html.ValidationMessageFor(model =>model.PidfPbfGeneralRnd.FinalFormulationApproved, "", new { @class = "text-danger" })
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <hr />
                                                    <div class="card card-primary card-tabs" id="navCountryTabsdiv">
                                                        <div class="card-header p-0 pt-1">
                                                            <ul class="nav nav-tabs row text-center m-0" id="navCountryTabs" role="tablist"></ul>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <label class="control-label" id="lblPackSizeStability">Pack Size Stability</label>
                                                        <div id="DvPackSizeStability">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    @*  --------------R&D Product Detail-------------------------------------*@
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                @* --start-New Tab chanes-----------------------*@


                @*   -------end New Tab chanes-------------------*@


                <div class="card card-maroon card-outline card-outline-tabs m-0">
                    <div class="card-header p-0">
                        <ul class="nav nav-tabs m-0"
                            id="custom-tabs-department-tab" role="tablist">
                            @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD))
                            {
                                <li class="nav-item p-0 CustomtabsdepartmenttabPBFMainTab">
                                    <a class="nav-link active px-2"
                                       id="custom-tabs-department-RnD-tab"
                                       data-toggle="pill"
                                       href="#custom-tabs-RnD" role="tab"
                                       aria-controls="custom-tabs-RnD"
                                       aria-selected="true">PBF/RnD</a>
                                </li>
                            }
                            @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical))
                            {
                                <li class="nav-item p-0 CustomtabsdepartmenttabPBFMainTab">
                                    <a class="nav-link px-2"
                                       id="custom-tabs-department-Analytical-tab"
                                       data-toggle="pill"
                                       href="#custom-tabs-Analytical"
                                       role="tab"
                                       aria-controls="custom-tabs-Analytical"
                                       aria-selected="false">Analytical</a>
                                </li>
                            }
                            @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical))
                            {
                                <li class="nav-item p-0 CustomtabsdepartmenttabPBFMainTab">
                                    <a class="nav-link px-2"
                                       id="custom-tabs-department-Clinical-tab"
                                       data-toggle="pill"
                                       href="#custom-tabs-Clinical" role="tab"
                                       aria-controls="custom-tabs-Clinical"
                                       aria-selected="false">Clinical</a>
                                </li>
                            }
                            @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RA) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RA))
                            {
                                <li class="nav-item p-0 CustomtabsdepartmenttabPBFMainTab">
                                    <a class="nav-link px-2"
                                       id="custom-tabs-department-RA-tab"
                                       data-toggle="pill"
                                       href="#custom-tabs-RA" role="tab"
                                       aria-controls="custom-tabs-RA"
                                       aria-selected="false">RA</a>
                                </li>
                            }

                        </ul>
                    </div>
                    @if ((UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD)) ||
                    (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical)) ||
                    (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical))
                    )

                    {
                        <div class="card-body pbftables" id="dvAllBottomTabsPBF">
                            <div class="tab-content"
                                 id="custom-tabs-department-tabContent">
                                @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD))
                                {
                                    if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RnD))
                                    {
                                        <input type="hidden" id="hdnPBFRNDPermission" value="true" />
                                    }
                                    <div class="tab-pane fade show active"
                                         id="custom-tabs-RnD" role="tabpanel"
                                         aria-labelledby="custom-tabs-department-RnD-tab">
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="card card-green card-outline card-outline-tabs m-0">
                                                    <div class="card-header p-0">
                                                        <ul class="nav nav-tabs m-0"
                                                            id="custom-tabs-RNDdepartment-tab" role="tablist">
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link active px-2"
                                                                   id="custom-tabs-department-RnD-tab-DosageFormulation"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-DosageFormulation" role="tab"
                                                                   aria-controls="custom-tabs-RnD-DosageFormulation"
                                                                   aria-selected="true">Dosage Formulation</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-APIRequirment"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-APIRequirment" role="tab"
                                                                   aria-controls="custom-tabs-RnD-APIRequirment"
                                                                   aria-selected="false">API Requirment</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-ExcipientRequirement"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-ExcipientRequirement" role="tab"
                                                                   aria-controls="custom-tabs-RnD-ExcipientRequirement"
                                                                   aria-selected="false">Excipient Requirement</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-PackagingMaterial"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-PackagingMaterial" role="tab"
                                                                   aria-controls="custom-tabs-RnD-PackagingMaterial"
                                                                   aria-selected="false">Packaging Material</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-ToolingandChangePartCost"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-ToolingandChangePartCost" role="tab"
                                                                   aria-controls="custom-tabs-RnD-ToolingandChangePartCost"
                                                                   aria-selected="false">Tooling and Change Part Cost</a>
                                                            </li>

                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-CapexMiscellaneouseExpenses"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-CapexMiscellaneouseExpenses" role="tab"
                                                                   aria-controls="custom-tabs-RnD-CapexMiscellaneouseExpenses"
                                                                   aria-selected="false">Capex Miscellaneouse Expenses</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-PlantSupportCost"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-PlantSupportCost" role="tab"
                                                                   aria-controls="custom-tabs-RnD-PlantSupportCost"
                                                                   aria-selected="false">Plant Support Cost</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-ReferenceProductDetail"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-ReferenceProductDetail" role="tab"
                                                                   aria-controls="custom-tabs-RnD-ReferenceProductDetail"
                                                                   aria-selected="false">Reference Product Detail</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-ManPowerCostProjectDuration"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-ManPowerCostProjectDuration" role="tab"
                                                                   aria-controls="custom-tabs-RnD-ManPowerCostProjectDuration"
                                                                   aria-selected="false">Man Power Cost & Project Duration</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-FillingExpenses"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-FillingExpenses" role="tab"
                                                                   aria-controls="custom-tabs-RnD-FillingExpenses"
                                                                   aria-selected="false">Filling Expenses</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-PhaseWiseBudget"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-PhaseWiseBudget" role="tab"
                                                                   aria-controls="custom-tabs-RnD-PhaseWiseBudget"
                                                                   aria-selected="false">Phase Wise Budget</a>
                                                            </li>
                                                            <li class="nav-item p-0 pbfRNDTab">
                                                                <a class="nav-link px-2"
                                                                   id="custom-tabs-department-RnD-tab-HeadWiseBudget"
                                                                   data-toggle="pill"
                                                                   href="#custom-tabs-RnD-HeadWiseBudget" role="tab"
                                                                   aria-controls="custom-tabs-RnD-HeadWiseBudget"
                                                                   aria-selected="false">Head Wise Budget</a>
                                                            </li>
                                                        </ul>
                                                    </div>

                                                    <div class="card-body">
                                                        <div class="tab-content" id="custom-tabs-RNDdepartment-tabContent">

                                                            <div class="tab-pane fade show active"
                                                                 id="custom-tabs-RnD-DosageFormulation" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-DosageFormulation">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables ">
                                                                            <div class="row">
                                                                                <div class="col-md-3">
                                                                                    <div class="form-group required">
                                                                                        @Html.LabelFor(model => model.RNDMasterEntities.BatchSizeId, "Dosage Formulation", new { @class = "control-label" })
                                                                                        @*<input type="hidden" id="hdnBatchSizeId" value="@Model.RNDMasterEntities.BatchSizeId" />*@
                                                                                        <select id="RNDBatchSizeId" name="RNDMasterEntities.BatchSizeId" class="form-control readOnlyUpdate" required></select>
                                                                                    </div>
                                                                                </div>
                                                                                <table id="tablerndbatchsize" class="table text-center" style="width:100%">
                                                                                </table>
                                                                            </div>

                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-APIRequirment" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-APIRequirment">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <div class="col-md-3">
                                                                                    <div class="form-group required">
                                                                                        @Html.LabelFor(model => model.RNDMasterEntities.ApirequirementMarketPrice, "Market Price ", new { @class = "control-label" }) <span id="spAPIRequirementMarketPrice">(Rs/kg)</span>
                                                                                        @Html.TextBoxFor(@modal=> modal.RNDMasterEntities.ApirequirementMarketPrice,new{@class="form-control calcRNDApirequirementsMarketPrice",type = "number", min = 0})
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-3">
                                                                                    <div class="form-group required">
                                                                                        @Html.LabelFor(model => model.RNDMasterEntities.ApirequirementVendorName, "Vendor Name", new { @class = "control-label" })
                                                                                        @Html.TextBoxFor(@modal=> modal.RNDMasterEntities.ApirequirementVendorName,new{@class="form-control RNDApirequirementVendorName"})
                                                                                    </div>
                                                                                </div>
                                                                                <table id="tablerndapirequirement" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-ExcipientRequirement" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-ExcipientRequirement">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <table id="tablerndexicipientrequirement" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>
                                                                                <input type="hidden" id="hdnrndExicipientData" name="RNDExicipientRawData" />
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-PackagingMaterial" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-PackagingMaterial">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <table id="tablerndpackagingmaterialrequirement" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>
                                                                                <input type="hidden" id="hdnrndPackagingData" name="RNDPackagingRawData" />
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-ToolingandChangePartCost" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-ToolingandChangePartCost">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <table id="tablerndtoolingchangepart" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>
                                                                                <input type="hidden" id="hdnrndToolingChangePartData" name="RNDToolingChangePartRawData" />

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-CapexMiscellaneouseExpenses" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-CapexMiscellaneouseExpenses">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <table id="tablerndcapexmiscellaneousexpenses" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>
                                                                                <input type="hidden" id="hdnrndCapexMiscellaneousExpensesData" name="RNDCapexMiscellaneousExpensesRawData" />

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-PlantSupportCost" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-PlantSupportCost">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftablesplantCost">
                                                                            <div class="row">
                                                                                <div class="col-md-3">
                                                                                    <div class="form-group required">
                                                                                        @Html.LabelFor(model => model.RNDMasterEntities.PlantId_Tab, "Plant Name", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                                        @Html.HiddenFor(model => model.RNDMasterEntities.PlantId_Tab)
                                                                                        @*<input type="hidden" id="hdnPlantId" value="@Model.PlantId" />*@
                                                                                        <select id="ddlPlantId_Tab" name="ddlPlantId_Tab" class="form-control readOnlyUpdate customvalidateformcontrol ddlPlantId_Tab" required></select>
                                                                                        @Html.ValidationMessageFor(model => model.RNDMasterEntities.PlantId_Tab, "", new { @class = "text-danger" })
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-3">
                                                                                    <div class="form-group required">
                                                                                        @Html.LabelFor(model => model.RNDMasterEntities.PBFLine, "Line", new { @class = "control-label" })<span class="text-danger">*</span>
                                                                                        <select id="ddlPBFLine" name="ddlPBFLine" class="form-control readOnlyUpdate customvalidateformcontrol ddlPBFLine" required></select>
                                                                                        @Html.HiddenFor(model => model.RNDMasterEntities.PBFLine)
                                                                                        @Html.ValidationMessageFor(model => model.RNDMasterEntities.PBFLine, "", new { @class = "text-danger" })
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-3">
                                                                                    <div class="form-group required">
                                                                                        @Html.LabelFor(model => model.RNDMasterEntities.PlanSupportCostRsPerDay, "Plant Utilization rate Rs/Day", new { @class = "control-label" })
                                                                                        @Html.TextBoxFor(@modal=> modal.RNDMasterEntities.PlanSupportCostRsPerDay,new{@class="form-control",type = "number", min = 0})
                                                                                    </div>
                                                                                </div>
                                                                                <table id="tablerndplantsupportcost" class="table text-center tableTDHintDays" style="width:100%">
                                                                                </table>
                                                                                @*<input type="hidden" id="hdnrndPlantSupportCostData" name="RNDPlantSupportCostRawData" />*@

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-ReferenceProductDetail" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-ReferenceProductDetail">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="pbftables">
                                                                            <div class="row">
                                                                                <table id="tablerndreferenceproductdetail" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>


                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-ManPowerCostProjectDuration" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-ManPowerCostProjectDuration">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <div class="col-md-3">
                                                                                    <div class="form-group required">
                                                                                        @Html.LabelFor(model => model.RNDMasterEntities.ManHourRate, "Man Hour Rate (Rs/hour)", new { @class = "control-label" })
                                                                                        @Html.TextBoxFor(@modal=> modal.RNDMasterEntities.ManHourRate,new{@class="form-control",type = "number", min = 0})
                                                                                    </div>
                                                                                </div>
                                                                                <table id="tablerrndmanpowercostprojectduration" class="table text-center tableTDHintManHrs" style="width:100%">
                                                                                </table>
                                                                            </div>
                                                                            <input type="hidden" id="hdnrndManPowerCostProjectDuration" name="RNDManPowerCostProjectDurationRawData" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-FillingExpenses" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-FillingExpenses">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <table id="tablerndfilingexpenses" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>
                                                                            </div>
                                                                            <input type="hidden" id="hdnrndFillingExpensesData" name="RNDFillingExpensesRawData" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-PhaseWiseBudget" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-PhaseWiseBudget">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <table id="tablerndphasewisebudget" class="table text-center tableTDHint" style="width:100%">
                                                                                </table>
                                                                            </div>
                                                                            <input type="hidden" id="hdnrndPhaseWiseBudget" name="RNDPhaseWiseBudgetRawData" />

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="tab-pane fade show"
                                                                 id="custom-tabs-RnD-HeadWiseBudget" role="tabpanel"
                                                                 aria-labelledby="custom-tabs-department-RnD-tab-HeadWiseBudget">
                                                                <div class="container-fluid">
                                                                    <div class="row">
                                                                        <div class="card-body pbftables">
                                                                            <div class="row">
                                                                                <table id="tableHeadWiseBudget" class="table text-center tableTDHintManHrs" style="width:100%">
                                                                                </table>
                                                                            </div>
                                                                            <input type="hidden" id="hdnrndHeadWiseBudget" name="RNDHeadWiseBudgetRawData" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            @Html.HiddenFor(model => model.PBFnextbutton, new { id = "btnNextRnDTabSelectedValue", name = "PBFnextbutton" })
                                            <div class="row">
                                                <div class="col-12 text-end">
                                                    <a class="btn btn-primary outside-buttons mt-2" id="btnNextRnDTab">Next</a>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                }
                                @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical))
                                {
                                    if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Analytical))
                                    {
                                        <input type="hidden" id="hdnPBFAnalyticalPermission" value="true" />
                                    }
                                    <div class="tab-pane fade show"
                                         id="custom-tabs-Analytical" role="tabpanel"
                                         aria-labelledby="custom-tabs-department-Analytical-tab">
                                        <div class="container-fluid">
                                            <div class="row">

                                                <table id="tableanalytical" class="table text-center tableTDHint" style="width:100%">
                                                </table>
                                                <input type="hidden" id="hdnAnalyticalData" name="AnalyticalRawData" />
                                                <input type="hidden" id="hdnAnalyticalStrengthMappingData" name="AnalyticalStrengthMappingRawData" />
                                            </div>
                                        </div>
                                    </div>
                                }
                                @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical))
                                {
                                    if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.Clinical))
                                    {
                                        <input type="hidden" id="hdnPBFClinicalPermission" value="true" />
                                    }
                                    <div class="tab-pane fade show"
                                         id="custom-tabs-Clinical" role="tabpanel"
                                         aria-labelledby="custom-tabs-department-clinical-tab">
                                        <div class="container-fluid">

                                            <div class="row">
                                                <span id="msgclinicalnote" class="text-danger" style="display:none;"><span class="text-bold">Note:</span> Not Applicable</span>
                                                <br />
                                                <div class="col-md-3">
                                                    <div class="form-group required">
                                                        <label class="control-label"> BE Study Results</label>
                                                        <input type="text" id="BestudyResults" name="BestudyResults" class="form-control">
                                                    </div>
                                                </div>

                                                <br />
                                                <table id="tableclinical" class="table text-center tableTDHint" style="width:100%">
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                }
                                @* @if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.View, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RA) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RA) || UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Add, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RA))
                            {
                            if (UtilityHelper.GetAccess((int)EmcureNPD.Utility.Enums.ModuleEnum.PBF, Helper.GetLoggedInRoleId(), (int)EmcureNPD.Utility.Enums.PermissionEnum.Edit, (int)EmcureNPD.Utility.Enums.SubModulePermissionEnum.RA))
                            {*@
                                <input type="hidden" id="hdnPBFRAPermission" value="true" />
                                @* }*@
                                <div class="tab-pane fade show"
                                     id="custom-tabs-RA" role="tabpanel"
                                     aria-labelledby="custom-tabs-department-RA-tab">

                                    @*  newly added code below*@

                                    <div class="card">
                                        <div class="card-header bg-primary">
                                            <h1 class="card-title mb-0">
                                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                    Master Detail
                                                </button>
                                            </h1>
                                            <div class="card-tools">
                                                <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                    <i class="fas fa-minus"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <!-- First Collapsible Card -->
                                            <div class="card">
                                                <div class="card-header bg-primary">
                                                    <h1 class="card-title mb-0">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                            Types Of Submission
                                                        </button>
                                                    </h1>
                                                    <div class="card-tools">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="card-body table-overflow" style="display: block;">
                                                    <div style="overflow-x:auto;">
                                                        <table class="table table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th class="bg-light">Type of Submission Name</th>
                                                                    <th class="bg-light">Timeline for EOP (Approx.)</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Second Collapsible Card -->
                                            <div class="card">
                                                <div class="card-header bg-primary">
                                                    <h1 class="card-title mb-0">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                            Nation Approval
                                                        </button>
                                                    </h1>
                                                    <div class="card-tools">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="card-body table-overflow" style="display: block;">
                                                    <div style="overflow-x:auto;">
                                                        <table class="table table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th class="bg-light">Country</th>
                                                                    <th class="bg-light">Post EOP MA Timeline (Approx.)</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <!-- Add your table content here -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>



                                            <!-- Third Collapsible Card -->
                                            <div class="card" hidden>
                                                <div class="card-header bg-primary">
                                                    <h1 class="card-title mb-0">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                                            Workflow for different Dates
                                                        </button>
                                                    </h1>
                                                    <div class="card-tools">
                                                        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="card-body table-overflow" style="display: block;">
                                                    <div style="overflow-x:auto;">
                                                        <table class="table table-bordered">
                                                            <thead>
                                                                <tr>
                                                                    <th>Dates</th>
                                                                    <th> Status</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    @*  newly added code above*@

                                    <div class="container-fluid">

                                        <div class="row">
                                            <span id="msgRAnote" class="text-danger" style="display:none;"><span class="text-bold">Note:</span> Not Applicable</span>
                                            <br />
                                            <br />
                                            <table id="tableRA" class="table text-center tableTDHint" style="width:100%">
                                                <thead class="bg-primary text-bold">
                                                <th>Country</th>
                                                <th>Pivotal batch manufactured</th>
                                                <th>Last data from R&D</th>
                                                <th>BE Final Report</th>
                                                    @*<th>List of countries</th>*@
                                                <th>Type of Submission</th>
                                                <th>Dossier Ready Date</th>
                                                    @*<th>Earliest Submission - D Excl</th>*@
                                                <th>Dossier Submission Date </th>
                                                <th>End of procedure Date</th>
                                                <th>Country Approval Date</th>
                                                <th>Earliest Launch - D Excl</th>
                                                    @*<th>Last Date To Regulatory</th>*@
                                                <th>Receit Date From RnD</th>
                                                <th>Action</th>
                                                </thead>
                                                <tbody id="tableRABody">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                @*}*@
                            </div>
                        </div>
                    }
                </div>
                <br>
                @Html.Partial("_PIDFApproveReject")

                <div class="row">
                    <div class="col-12 text-end">
                        <div class="form-group" id="dvMainButton"> 
                            @if (Model.StatusId == (Int32)Master_PIDFStatus.PBFInProgress || Model.StatusId == (Int32)Master_PIDFStatus.IPDApproved || Model.StatusId == 0)
                            {
                                <button type="submit" id="savedraft" class="btn btn-primary me-3 outside-buttons operationButton" onClick="SavePBFForm('Draft')">@SharedLocalizer["SaveDraft"]</button>
                                <button type="submit" class="btn btn-success me-3 outside-buttons operationButton" id="save" onClick="SavePBFForm('Save')">@SharedLocalizer["Submit"]</button> 
                            }
                            @if (Model.StatusId == (Int32)Master_PIDFStatus.PBFSubmitted)
                            {
                                <button type="submit" class="btn btn-danger me-3 outside-buttons operationButton" onClick="ApproveRejectClick('R', @Model.Pidfid, @((int)EmcureNPD.Utility.Enums.PIDFScreen.PBF), '/PIDF/PIDFList?ScreenId=@((int)EmcureNPD.Utility.Enums.PIDFScreen.PBF)');"><i class="fa fa-ban mr-1"></i>@SharedLocalizer["Reject"]</button>
                            } 
                            <a id="btnPBFCancel" class="btn btn-danger me-3 outside-buttons operationButton" onclick="CancelPopup()">@SharedLocalizer["Cancel"]</a>

                        </div>
                    </div>
                </div>
            </div>
            <div id="dvNotInterestedBUNote_PBF">
                <label class="text-lg text-wrap w-100" id="dvNotInterestedBUNoteHeading_PBF"></label>
            </div>
        </div>
    </form>
</div>


@Html.Partial("_CancelRequest", (int)PIDFScreen.PBF)

<script type="text/javascript" src="~/js/Custom/PBF/PBF.js?v=@jsVersion"></script>
<link rel="stylesheet" href="~/AdminLTE/plugins/select2/css/select2.min.css" />
<script type="text/javascript" src="~/AdminLTE/plugins/select2/js/select2.full.min.js"></script>
<script type="text/javascript" src="~/js/Custom/SelectAllAdaptor.js?v=@jsVersion"></script>
@*<link href="/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>*@

<script>
    var GetIsInterestedByPIDFandBUurlPBF = "@EmcureNPD.Web.Helpers.APIURLHelper.GetIsInterestedByPIDFandBU";
    var GetCountryWisePackSizeStabilityData = "@EmcureNPD.Web.Helpers.APIURLHelper.GetCountryWisePackSizeStabilityData";
    var GetAllPBF = "@EmcureNPD.Web.Helpers.APIURLHelper.GetPBFDropdown";
    var getLineByPlantId = "@EmcureNPD.Web.Helpers.APIURLHelper.GetLineByPlantId";
    var UserWiseBUList = "@Model.BusinessUnitsByUser";
    var _selectBusinessUnit = "@UtilityHelper.Decreypt(Convert.ToString(Context.Request.Query["bui"]))";
    var _PIDFID = "@UtilityHelper.Decreypt(Convert.ToString(Context.Request.Query["pidfid"]))";
    var GetPBFAllTabDetails = "@EmcureNPD.Web.Helpers.APIURLHelper.GetPBFTabDetails";
    var ErrorMessage = "@SharedLocalizer["Error"]";
    var _currenttabindex = "@Convert.ToInt32(Context.Request.Query["currentTabIndex"])";
    var _EncPIDFID = "@Convert.ToString(Context.Request.Query["pidfid"])";
    var _PIDFBusinessUnitId = "@Convert.ToString(Context.Request.Query["bui"])";
    var _PIDFAccordionURL = "@Url.Action("PIDF", "PIDF")";
    var _IPDAccordionURL = "@Url.Action("IPD", "IPD")";
    var _CommercialAccordionURL = "@Url.Action("PIDFCommerciaLDetails", "Commercial")";
    const getCountryByBusinessUnitIdurl = "@EmcureNPD.Web.Helpers.APIURLHelper.GetCountryByBusinessUnitId";
    const getTypeOfSubmissionurl = "@EmcureNPD.Web.Helpers.APIURLHelper.GetTypeOfSubmission";
    const getNationApprovalsurl = "@EmcureNPD.Web.Helpers.APIURLHelper.GetNationApprovals";
    const GetRaurl = "@EmcureNPD.Web.Helpers.APIURLHelper.GetRa";
    const GetPBFRACalculatedDateUrl = "@EmcureNPD.Web.Helpers.APIURLHelper.GetPBFRADates"
    var ApproveRejectDeletePidf = "@EmcureNPD.Web.Helpers.APIURLHelper.ApproveRejectDeletePidf";
    var StatusId = "@Model.StatusId";
</script>