@inject Microsoft.Extensions.Localization.IStringLocalizer<SharedResource> SharedLocalizer
@model EmcureCERI.Web.Models.DRFViewModels.DRFAddDetailsModel
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{
	ViewData["Title"] = "DRFInitialization";
}


<style>
	#myTable tbody {
		display: contents;
	}
</style>
<div class="content-wrapper pt-3">
	<!-- Main content -->
	<section class="content">
        <div class="container-fluid">
            <!-- Small boxes (Stat box) -->
            <!-- Main row -->
            <div class="row">
                <section class="col-lg-12">
                    <!-- Custom tabs (Charts with tabs)-->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="far fa-plus-square mr-2"></i> DRF Details
                            </h3>
                            <div class="card-tools">
                                <a class="btn btn-primary" href="@Url.Action("DRFInitializationUpdation","DRFInitialization")"><i class="far fa-list-alt mr-1"></i>Edit</a>
                                <button class="btn btn-outline-primary mr-3" onclick="javascript:window.history.back();"><i class="fas fa-undo mr-1"></i> Back</button>

                                <button type="button" class="btn btn-tool p-0 mr-3 expand1" data-card-widget="maximize">
                                    <i class="fas fa-expand"></i>
                                </button>
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.card-header -->

                        <div class="card-body">
                            <div class="min-max direct-chat-messages">
                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6  text-right">Country:</label>
                                        <div class="col-sm-6" id="DRFInitialization_CountryID"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Generic Name:</label>
                                        <div class="col-sm-6" id="DRFInitialization_GenericName"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Brand Name:</label>
                                        <div class="col-sm-6" id="DRFInitialization_BrandName"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Trademark Approved:</label>
                                        <div class="col-sm-6" id="DRFInitialization_TreadmarkApprovedInternal"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Trademark Suggested:</label>
                                        <div class="col-sm-6" id="DRFInitialization_TreadmarkSuggestedInternal"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Trademark:</label>
                                        <div class="col-sm-6" id="DRFInitialization_TreadmarkOwnerInternal"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Form:</label>
                                        <div class="col-sm-6" id="DRFInitialization_Form"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Strength:</label>
                                        <div class="col-sm-6" id="DRFInitialization_Strength"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Pack Size/s:</label>
                                        <div class="col-sm-6" id="DRFInitialization_PackSize"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Pack Style:</label>
                                        <div class="col-sm-6" id="DRFInitialization_PackStyle"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Plant:</label>
                                        <div class="col-sm-6" id="DRFInitialization_Plant"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Product Type:</label>
                                        <div class="col-sm-6" id="DRFInitialization_ProductType"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Samples Required:</label>
                                        <div class="col-sm-6" id="DRFInitialization_Samples_Required"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Remark:</label>
                                    </div>
                                    <div class="col-sm-6" id="DRFInitialization_Remark"></div>
                                </div>

                                <h4 class="text-divider d-none"><span>PIDF Details</span></h4>
                                <div class="row d-none">
                                    <div class="col-sm-4 row ">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">PIDF Attached : </label>
                                        <div class="col-sm-6" id="DRFInitialization_AttachedPIDF"></div>
                                    </div>

                                </div>

                                <div class="row d-none">
                                    <div class="col-sm-12 table-responsive">
                                        <table id="PIDFTable" class="table table-bordered table-striped table-hover" style="width:100%;">
                                            <thead>
                                                <tr>
                                                    <th>@SharedLocalizer["Id"].Value</th>
                                                    <th>@SharedLocalizer["Project Name"].Value</th>
                                                    <th>@SharedLocalizer["Strength"].Value</th>
                                                    <th>@SharedLocalizer["Patent Status"].Value</th>
                                                    <th>@SharedLocalizer["Continent"].Value</th>
                                                    <th>@SharedLocalizer["Country"].Value</th>
                                                    <th>@SharedLocalizer["Packing"].Value</th>
                                                    <th>@SharedLocalizer["Batch Size (In pack)"].Value</th>
                                                    <th>@SharedLocalizer["Pack Size"].Value</th>
                                                    <th>@SharedLocalizer["Cogs"].Value</th>
                                                    <th>@SharedLocalizer["Freight($)"].Value</th>
                                                    <th>@SharedLocalizer["Total CIF Cost($)"].Value</th>
                                                    <th>@SharedLocalizer["CIF Price Per Unit($)"].Value</th>
                                                    <th>@SharedLocalizer["CIF Price Per Pack($)"].Value</th>
                                                    <th>@SharedLocalizer["Profit Per Pack"].Value</th>
                                                    <th>@SharedLocalizer["Percent Cont"].Value</th>
                                                    <th>@SharedLocalizer["Contribution 3 yr"].Value</th>
                                                    <th>@SharedLocalizer["Cost of 3 Batches"].Value</th>
                                                    <th>@SharedLocalizer["R&D Cost($)"].Value</th>
                                                    <th>@SharedLocalizer["Filing Cost($)"].Value</th>
                                                    <th>@SharedLocalizer["Stability Cost($)"].Value</th>
                                                    <th>@SharedLocalizer["Total Invest($)"].Value</th>
                                                    <th>@SharedLocalizer["ROI"].Value</th>

                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>

                                <h3 class="text-divider"><span>Regulated Details</span></h3>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Currency:</label>
                                        <div class="col-sm-6" id="DRFInitialization_Currency"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Fees to be Paid by:</label>
                                        <div class="col-sm-6" id="DRFInitialization_FeesToBePaidBy"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Registration Fee ($):</label>
                                        <div class="col-sm-6" id="DRFInitialization_RegistrationFees"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Mode of Fees Payment:</label>
                                        <div class="col-sm-6" id="DRFInitialization_ModeOfFeesPayment"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">MA Holder:</label>
                                        <div class="col-sm-6" id="DRFInitialization_MAHolder"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Business Type:</label>
                                        <div class="col-sm-6" id="DRFInitialization_ProposedMarketingStatus"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Shipping Port:</label>
                                        <div class="col-sm-6" id="DRFInitialization_ShippingPort"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Mode of Shipment:</label>
                                        <div class="col-sm-6" id="DRFInitialization_ModeOfShipment"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Incoterms:</label>
                                        <div class="col-sm-6" id="DRFInitialization_Incoterms"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Dossier submitted to MoH by:</label>
                                        <div class="col-sm-6" id="DRFInitialization_DossierSubmittedToMOHBy"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Owner of Registration:</label>
                                        <div class="col-sm-6" id="DRFInitialization_OwnerOfRegistration"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">CDA Excecuted:</label>
                                        <div class="col-sm-6" id="DRFInitialization_AvailabilityofCDA"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">TS Excecuted:</label>
                                        <div class="col-sm-6" id="DRFInitialization_TSExcecuted"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">DA Excecuted:</label>
                                        <div class="col-sm-6" id="DRFInitialization_DAExcecuted"></div>
                                    </div>
                                </div>


                                <h3 class="text-divider"><span>Market Details</span></h3>
                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Current / Proposed Market Size:</label>
                                        <div class="col-sm-6" id="DRFInitialization_MarketSize"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">3 Yr. CAGR:</label>
                                        <div class="col-sm-6" id="DRFInitialization_ThreeYearCAGR"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Number of Current Players:</label>
                                        <div class="col-sm-6" id="DRFInitialization_NumberOfCurrentPlayer"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Expected Mkt. Value Growth($):</label>
                                        <div class="col-sm-6" id="DRFInitialization_ExpectedMarketValueGrowth"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Innovator Brand:</label>
                                        <div class="col-sm-6" id="DRFInitialization_InnovatorBrand"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">Innovator Name:</label>
                                        <div class="col-sm-6" id="DRFInitialization_InnavotorName"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Top Brand:</label>
                                        <div class="col-sm-6" id="DRFInitialization_FirstBrand"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">MS Top Brand:</label>
                                        <div class="col-sm-6" id="DRFInitialization_MSFirstBrand"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">2nd Brand:</label>
                                        <div class="col-sm-6" id="DRFInitialization_SecondBrand"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <label class="col-sm-6 text-right">MS 2nd Brand:</label>
                                        <div class="col-sm-6" id="DRFInitialization_MSSecondBrand"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">3rd Brand:</label>
                                        <div class="col-sm-6" id="DRFInitialization_ThirdBrand"></div>
                                    </div>
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">MS 3rd Brand:</label>
                                        <div class="col-sm-6" id="DRFInitialization_MSThirdBrand"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4 row">
                                        <!-- text input -->
                                        <label class="col-sm-6 text-right">Partner or Potential Partner:</label>
                                        <div class="col-sm-6" id="DRFInitialization_Partner"></div>
                                    </div>
                                    <div class="col-sm-4"></div>
                                    <div class="col-sm-4"></div>
                                </div>

                                <h3 class="text-divider"><span>Value in USD only</span></h3>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Value in USD only</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group text-center">
                                            <label>Year 1</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group text-center">
                                            <label>Year 2</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group text-center">
                                            <label>Year 3</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Forecast Units (Packs) ($):</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group " id="DRFInitialization_FirstYearForecastUnitsPacks"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_SecondYearForecastUnitsPacks"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_ThirdYearForecastUnitsPacks"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Forecast CIF (for Emcure) ($):</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_FirstYearForecastCIF"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_SecondYearForecastCIF"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_ThirdYearForecastCIF"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Forecast Value (Emcure):</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_FirstYearForecastValue"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_SecondYearForecastValue"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_ThirdYearForecastValue"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Forecast Price to Patient (for our brand)($):</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_FirstYearForecastPriceToPatient"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_SecondYearForecastPriceToPatient"></div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_ThirdYearForecastPriceToPatient"></div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>Order Frequency:</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_OrderFrequency"></div>
                                    </div>
                                    <div class="col-sm-3"></div>
                                    <div class="col-sm-3"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group">
                                            <label>No. of Shipments:</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group" id="DRFInitialization_NoofShipments"></div>
                                    </div>
                                    <div class="col-sm-3"></div>
                                    <div class="col-sm-3"></div>
                                </div>
                                <hr />
                                <div class="row">
                                    <div class="col-sm-3 ">
                                        <label>Name to whom dossier to be sent:</label>
                                    </div>
                                    <div class="col-sm-3" id="DRFInitialization_NameDossierSend"></div>
                                    <div class="col-sm-3 ">
                                        <label>Address to whom dossier to be sent:</label>

                                    </div>
                                    <div class="col-sm-3" id="DRFInitialization_AddressDossierSend"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3 ">
                                        <label>Email to whom dossier to be sent:</label>
                                    </div>
                                    <div class="col-sm-3" id="DRFInitialization_EmailDossierSend"></div>
                                    <div class="col-sm-3 ">
                                        <label>Phone Number to whom dossier to be sent:</label>
                                    </div>
                                    <div class="col-sm-3" id="DRFInitialization_PhoneDossierSend"></div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-3 ">
                                        <label>Strategy Alignment:</label>
                                    </div>
                                    <div class="col-sm-3" id="DRFInitialization_StrategyAlignment"></div>
                                    <div class="col-sm-3">
                                        <label>Exception explained:</label>
                                    </div>
                                    <div class="col-sm-3" id="DRFInitialization_ExceptionExplained"></div>
                                </div>

                                <h3 class="text-divider" style="display:none"><span>Approval Details</span></h3>
                                <div class="row" style="display:none">
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <label>Do you want to approve this DRF :</label>
                                    </div>
                                    <div class="col-sm-3 row">
                                        <div class="form-group text-center">
                                            <div class="form-group">
                                                <div class="icheck-primary d-inline mr-5">
                                                    <label for="Approved">
                                                        Approved
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-1">
                                        <label>Comment :</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="form-group" id="DRFInitialization_Comment"></div>
                                    </div>
                                </div>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                    </div>
                </section>
            </div>

            <div class="row">
                <section class="col-lg-12">
                    <!-- Custom tabs (Charts with tabs)-->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="far fa-plus-square mr-2"></i> Approval Summary Table
                            </h3>
                        </div>
                        <!-- /.card-header -->

                        <div class="card-body">
                            <table class="table table-bordered">
                                <tr>
                                    <th>Responsible</th>
                                    <th>Name</th>
                                    <th>Date</th>
                                </tr>
                                <tr>
                                    <td><strong>Dossier raised by</strong></td>
                                    <td><div id="DossierCreatedName"></div></td>
                                    <td><div id="DossierCreatedDateTime"></div></td>
                                </tr>
                                <tr>
                                    <td><strong>Dossier checked by Country Manager</strong></td>
                                    <td><div id="CountryManagerApprovalName"></div></td>
                                    <td><div id="CountryManagerApprovalDateTime"></div></td>
                                </tr>
                                <tr>
                                    <td><strong>Dossier checked by HO</strong></td>
                                    <td><div id="LineManagerApprovalName"></div></td>
                                    <td><div id="LineManagerApprovalDateTime"></div></td>
                                </tr>
                                <tr>
                                    <td><strong>HOD DRF Approval</strong></td>
                                    <td><div id="LineManagerApprovalName"></div></td>
                                    <td><div id="LineManagerApprovalDateTime"></div></td>
                                </tr>
                                <tr>
                                    <td><strong>HOD dossier prep. Approval</strong></td>
                                    <td><div id="HODofDossierApprovalName1"></div></td>
                                    <td><div id="HODofDossierApprovalDateTime1"></div></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <!-- /.card-body -->
                    <!-- /.card -->
                </section>
            </div>

            <div class="card  card-primary card-outline card-outline-tabs nav-fill nav-pills">
                <div class="card-header p-0 pt-1 border-bottom-0">
                    <ul class="nav nav-tabs" id="custom-tabs-three-tab" role="tablist">
                        <li class="nav-item" id="IPTabID">
                            <a class="nav-link active" id="custom-tabs-three-home-tab" data-toggle="pill" href="#custom-tabs-three-home" role="tab" aria-controls="custom-tabs-three-home" aria-selected="true">IP Details</a>
                        </li>
                        <li class="nav-item " id="ManufacturingTabID">
                            <a class="nav-link" id="custom-tabs-three-profile-tab" data-toggle="pill" href="#custom-tabs-three-profile" role="tab" aria-controls="custom-tabs-three-profile" aria-selected="false">Manufacturing Details</a>
                        </li>
                        <li class="nav-item" id="SCMTabID">
                            <a class="nav-link" id="custom-tabs-three-messages-tab" data-toggle="pill" href="#custom-tabs-three-messages" role="tab" aria-controls="custom-tabs-three-messages" aria-selected="false">SCM Details</a>
                        </li>
                        <li class="nav-item" id="RATabID">
                            <a class="nav-link" id="custom-tabs-three-settings-tab" data-toggle="pill" href="#custom-tabs-three-settings" role="tab" aria-controls="custom-tabs-three-settings" aria-selected="false">Requisite RA Information</a>
                        </li>
                        <li class="nav-item" id="MedicalTabID">
                            <a class="nav-link" id="custom-tabs-three-medical-tab" data-toggle="pill" href="#custom-tabs-three-medical" role="tab" aria-controls="custom-tabs-three-medical" aria-selected="false">Medical Details</a>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content" id="custom-tabs-three-tabContent">

                        <div class="tab-pane fade show active" id="custom-tabs-three-home" role="tabpanel" aria-labelledby="custom-tabs-three-home-tab">
                            <h4 class="text-divider"><span>IP Details</span></h4>
                            <form method="post" name="ipdetails" onsubmit="return SubmitIPForm(this)">
                                <div class="row">
                                    <div class="col-sm-9">
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <!-- text input -->
                                                @Html.HiddenFor(p => p.DRFIPModel.InitializationID)
                                                @Html.HiddenFor(p => p.DRFIPModel.DRFIPModelDetailsList)
                                                @Html.HiddenFor(p => p.DRFIPModel.IPID)
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.ProjectName, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.ProjectName, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Project Name" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.ProjectName, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.Markets, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.Markets, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Markets" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.Markets, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <!-- text input -->
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.NumbersOfApprovedANDA, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.NumbersOfApprovedANDA, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "No. of Approved ANDAs" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.NumbersOfApprovedANDA, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <!-- text input -->
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.PatentStatus, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.PatentStatus, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Patent Status" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.PatentStatus, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-3">
                                                <!-- text input -->
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.LegalStatus, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.LegalStatus, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Legal Status" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.LegalStatus, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.NumbersOfApprovedGeneric, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.NumbersOfApprovedGeneric, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "No. of Approved Generics" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.NumbersOfApprovedGeneric, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <!-- text input -->
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.TypeOfFiling, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.TypeOfFiling, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Type of Filing" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.TypeOfFiling, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                            <div class="col-sm-3">
                                                <!-- text input -->
                                                <div class="form-group required">
                                                    @Html.LabelFor(p => p.DRFIPModel.CostofLitigation, new { @class = "control-label" })
                                                    @Html.EditorFor(p => p.DRFIPModel.CostofLitigation, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Cost of Litigation" } })
                                                    @Html.ValidationMessageFor(p => p.DRFIPModel.CostofLitigation, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group required">
                                            @Html.LabelFor(p => p.DRFIPModel.IPDComments, new { @class = "control-label" })
                                            @Html.TextAreaFor(p => p.DRFIPModel.IPDComments, new { @autocomplete = "off", @class = "form-control", @placeholder = "IPD Comments", @rows = 5 })
                                            @Html.ValidationMessageFor(p => p.DRFIPModel.IPDComments, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                                <h4 class="text-divider"><span>IP Details</span></h4>
                                <div class="row">
                                    <table id="myTable" class=" table order-list table-bordered" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Patent Numbers</th>
                                                <th>Original Expiry Date</th>
                                                <th>Type</th>
                                                <th>Extension Application</th>
                                                <th>Extn. Expiry Date</th>
                                                <th>Comment</th>
                                                <th>Strategy</th>
                                                <th class="ActionColumn">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr id="mainRow">
                                                <td>
                                                    <input type="text" autocomplete="off" name="PatentNumbers[]" id="PatentNumbers" placeholder="Patent Numbers" class="form-control" />
                                                    <small class="text-danger" id="IPD_PatentNumbers_Error"></small>
                                                </td>
                                                <td>
                                                    <div class="input-group date table-borderless table-sm" data-target-input="nearest">
                                                        <input type="text" name="OriginalExpiryDate[]" id="OriginalExpiryDate" autocomplete="off" placeholder="Original Expiry Date" class="form-control datetimepicker" />
                                                    </div>
                                                    <small class="text-danger" id="IPD_OriginalExpiryDate_Error"></small>
                                                </td>
                                                <td>
                                                    <input type="text" autocomplete="off" name="Type[]" id="Type" placeholder="Type" class="form-control" />
                                                    <small class="text-danger" id="IPD_Type_Error"></small>
                                                </td>
                                                <td>
                                                    <input type="text" autocomplete="off" name="ExtensionApplication[]" id="ExtensionApplication" placeholder="Extension Application" class="form-control" />
                                                    <small class="text-danger" id="IPD_ExtensionApplication_Error"></small>
                                                </td>
                                                <td>
                                                    <div class="input-group date table-borderless table-sm" data-target-input="nearest">
                                                        <input type="text" name="ExtnExpiryDate[]" id="ExtnExpiryDate" autocomplete="off" placeholder="Extn. Expiry Date" class="form-control datetimepicker" />
                                                    </div><small class="text-danger" id="IPD_ExtnExpiryDate_Error"></small>
                                                </td>
                                                <td>
                                                    <input type="text" autocomplete="off" name="Comment[]" id="Comment" placeholder="Comment (Patent Specific)" class="form-control" />
                                                    <small class="text-danger" id="IPD_Comment_Error"></small>
                                                </td>
                                                <td>
                                                    <input type="text" autocomplete="off" name="Strategy[]" id="Strategy" placeholder="Strategy" class="form-control" />
                                                    <small class="text-danger" id="IPD_Strategy_Error"></small>
                                                </td>
                                                <td><a class="deleteRow "></a><button class="btn btn-primary btn-sm" id="addrow" type="button"><i class="fas fa-plus"></i></button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <small class="text-danger" id="IPD_RegulatedDetails_Error"></small>
                                <div class="card-footer text-center" style="margin:20px -20px -20px;">
                                    @if (User.IsInRole("Prescriber") || User.IsInRole("IP Manager"))
                                    {
                                        <button id="DRFIPModel_Submit" type="submit" class="btn btn-primary">Update IP Details</button>
                                    }
                                </div>
                            </form>
                        </div>

						<div class="tab-pane fade" id="custom-tabs-three-profile" role="tabpanel" aria-labelledby="custom-tabs-three-profile-tab">
							<h4 class="text-divider"><span>Manufacturing Details</span></h4>
                            <form method="post" name="ManufacturingDetails" onsubmit="return SubmitDRFManufacturingForm(this)">
                                @Html.Hidden("Dimensions")
                                <div class="row">
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        @Html.HiddenFor(m => m.DRFManufacturingModel.InitializationID)
                                        @Html.HiddenFor(m => m.DRFManufacturingModel.ManufacturingAPISiteList)
                                        @Html.HiddenFor(m => m.DRFManufacturingModel.Id)
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.ManufacturingSiteId, new { @class = "control-label" })
                                            @Html.DropDownListFor(m => m.DRFManufacturingModel.ManufacturingSiteId, new SelectList(string.Empty, "Value", "Text"), "Please select option", htmlAttributes: new { @class = "form-control input-sm f-s-15 bg-eff4f55c w100per", id = "ManufactureSite" })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.ManufacturingSiteId, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.ManufacturingSiteName, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.ManufacturingSiteName, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Name of the Manufacturing site" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.ManufacturingSiteName, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.Batchsize, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.Batchsize, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Batch Size For Drug Product" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.Batchsize, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>                      

                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.Leadtime, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.Leadtime, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Drug Product Lead Time (Days)" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.Leadtime, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.ArtworkTypeId, new { @class = "control-label" })
                                            @Html.DropDownListFor(m => m.DRFManufacturingModel.ArtworkTypeId, new SelectList(string.Empty, "Value", "Text"), "Please select option", htmlAttributes: new { @class = "form-control input-sm f-s-15 bg-eff4f55c w100per", id = "ArtworkType" })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.ArtworkTypeId, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.Tentative_Artwork_Lead_Time, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.Tentative_Artwork_Lead_Time, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Tentative Artwork Lead Time" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.Tentative_Artwork_Lead_Time, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>                                
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.PackorShipper, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.PackorShipper, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Pack/Shipper" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.PackorShipper, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.GrossWeight, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.GrossWeight, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Gross Weight(in Kg)" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.GrossWeight, "", new { @class = "text-danger" })
                                        </div>
                                    </div>                                   
                                </div>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.MWidth, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.MWidth, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Width" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.MWidth, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.MHeight, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.MHeight, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Height" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.MHeight, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.MLength, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.MLength, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Length" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.MLength, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="display:none">
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFManufacturingModel.UnitEXW, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFManufacturingModel.UnitEXW, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Cost/Unit EXW (Commercial) (USD)" } })
                                            @Html.ValidationMessageFor(m => m.DRFManufacturingModel.UnitEXW, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>


                                <div class="row">
                                    <div class="col-sm-12">
                                        <table id="MTT" class="table order-listAPI table-bordered" style="width:100%">
                                            <thead>
                                                <tr>
                                                    <th>API</th>
                                                    <th>API Name</th>
                                                    <th>API Site</th>

                                                    <th style="width:50px;" class="ActionColumn1">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr id="mainRowApi">
                                                    <td>
                                                        <div class="form-group  date table-borderless table-sm" data-target-input="nearest">
                                                            <SELECT class="form-control input-sm f-s-15 bg-eff4f55c w100per" id="cmbSOM" name="cmbAPI">
                                                                <OPTION value="">Please Select Option</OPTION>
                                                            </SELECT>
                                                        </div>
                                                        <small class="text-danger" id="DRF_cmbSOM_Error"></small>
                                                    </td>

                                                    <td>
                                                        <input type="text" name="APIName" id="APIName" placeholder="Enter Api Name" class="form-control" @*onkeypress="return isAlpha(event)"*@ autocomplete="off" />
                                                        <small class="text-danger" id="DRF_APIName_Error"></small>
                                                    </td>
                                                    <td>
                                                        <input type="text" name="APISite" id="APISite" placeholder="Enter Api Site" class="form-control" @*onkeypress="return isAlpha(event)"*@ autocomplete="off" />
                                                        <small class="text-danger" id="DRF_APISite_Error"></small>
                                                    </td>
                                                    <td><a class="deleteRow "></a><button class="btn btn-primary btn-sm" id="addrow_for_Api" type="button"><i class="fas fa-plus"></i></button></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        @Html.LabelFor(m => m.DRFManufacturingModel.Remark, new { @class = "control-label" })
                                        @Html.TextAreaFor(m => m.DRFManufacturingModel.Remark, new { @autocomplete = "off", @class = "form-control", @placeholder = "Remarks", @rows = 4 })
                                    </div>
                                </div>
                                <div class="card-footer text-center" style="margin:20px -20px -20px;">
                                    @if (User.IsInRole("Prescriber") || User.IsInRole("Manufacturing Manager"))
                                    {
                                        <button id="DRFManufacturingModel_Submit" type="submit" class="btn btn-primary">Update Manufacturing Details</button>
                                    }
                                </div>
                            </form>
						</div>            
                         
                        <div class="tab-pane fade" id="custom-tabs-three-messages" role="tabpanel" aria-labelledby="custom-tabs-three-messages-tab">
                            <h4 class="text-divider"><span>SCM Details</span></h4>
                            <form method="post" name="SCMDetails" onsubmit="return SubmitDRFSCMForm(this)">
                                <div class="row">
                                    <div class="col-sm-4">
                                        @Html.HiddenFor(m => m.DRFSCMModel.InitializationID)
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFSCMModel.FreightCost, new { @class = "control-label" })
                                            @Html.EditorFor(m => m.DRFSCMModel.FreightCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Freight Cost Per Pack (Basic form)" } })
                                            @Html.ValidationMessageFor(m => m.DRFSCMModel.FreightCost, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFSCMModel.TentativeShipmente, new { @class = "control-label" })
                                            <div class="input-group date" id="SCMTentativeShipmente" data-target-input="nearest">
                                                @Html.TextBoxFor(m => m.DRFSCMModel.TentativeShipmente, new { @class = "form-control datetimepicker-input", autocomplete = "off" })
                                                <div class="input-group-append" data-target="#TentativeShipmente" data-toggle="datetimepicker">
                                                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                                </div><br>
                                            </div>
                                            @Html.ValidationMessageFor(m => m.DRFSCMModel.TentativeShipmente, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(m => m.DRFSCMModel.TentativeDestination, new { @class = "control-label" })
                                            <div class="input-group date" id="SCMTentativeDestination" data-target-input="nearest">
                                                @Html.TextBoxFor(m => m.DRFSCMModel.TentativeDestination, new { @class = "form-control datetimepicker-input", autocomplete = "off" })
                                                <div class="input-group-append" data-target="#TentativeDestination" data-toggle="datetimepicker">
                                                    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                                </div><br>
                                            </div>
                                            @Html.ValidationMessageFor(m => m.DRFSCMModel.TentativeDestination, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        @Html.LabelFor(m => m.DRFSCMModel.Remark, new { @class = "control-label" })
                                        @Html.TextAreaFor(m => m.DRFSCMModel.Remark, new { @autocomplete = "off", @class = "form-control", @placeholder = "Remarks", @rows = 4 })
                                    </div>
                                </div>
                                <div class="card-footer text-center" style="margin:20px -20px -20px;">
                                    @if (User.IsInRole("Prescriber") || User.IsInRole("SCM Manager"))
                                    {
                                        <button type="submit" id="DRFSCMModel_Submit" class="btn btn-primary">Update SCM Details</button>
                                    }
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="custom-tabs-three-settings" role="tabpanel" aria-labelledby="custom-tabs-three-settings-tab">
                            <h4 class="text-divider"><span>Requisite RA Information</span></h4>
                            <form method="post" name="RequisiteRAInformation" onsubmit="return SubmitDRFRAForm(this)">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        @Html.HiddenFor(r => r.DRFRAModel.InitializationID)
                                        <div class="form-group ">
                                            <label class="control-label" for="ZoneStabililtyData">Zone Stabililty Data</label><br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.CheckBoxFor(r => r.DRFRAModel.ACC, new { @class = "" })
                                                @Html.LabelFor(r => r.DRFRAModel.ACC)
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.CheckBoxFor(r => r.DRFRAModel.ZoneII, new { @class = "" })
                                                @Html.LabelFor(r => r.DRFRAModel.ZoneII)
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.CheckBoxFor(r => r.DRFRAModel.Ivbdata, new { @class = "" })
                                                @Html.LabelFor(r => r.DRFRAModel.Ivbdata)
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.ProtocolAvailability, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.ProtocolAvailability, true, htmlAttributes: new { @class = "radiobuttons", id = "ProtocolAvailabilityYes" })
                                                <label for="ProtocolAvailabilityYes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.ProtocolAvailability, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "ProtocolAvailabilityNo" })
                                                <label for="ProtocolAvailabilityNo">
                                                    No
                                                </label>
                                            </div>
                                            <br>
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.ProtocolAvailability, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.COPPAvailability, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.COPPAvailability, true, htmlAttributes: new { @class = "radiobuttons", id = "COPPAvailabilityYes", @checked = 1 })
                                                <label for="COPPAvailabilityYes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.COPPAvailability, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "COPPAvailabilityNo" })
                                                <label for="COPPAvailabilityNo">
                                                    No
                                                </label>
                                            </div>
                                            <br>
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.COPPAvailability, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.GMPAvailabilityId, new { @class = "control-label" })<br />
                                            @Html.DropDownListFor(r => r.DRFRAModel.GMPAvailabilityId, new SelectList(string.Empty, "Value", "Text"), "Please select option", htmlAttributes: new { @class = "form-control select2", })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.GMPAvailabilityId, "", new { @class = "text-danger" })

                                            @Html.EditorFor(r => r.DRFRAModel.GMPAvailability, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "GMP Availability" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.GMPAvailability, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.MfgLicense, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.MfgLicense, true, htmlAttributes: new { @class = "radiobuttons", id = "MfgLicenseYes" })
                                                <label for="MfgLicenseYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.MfgLicense, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "MfgLicenseNo" })
                                                <label for="MfgLicensedNo">
                                                    No
                                                </label>
                                            </div>
                                            <br>
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.MfgLicense, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.DossierTemplateID, new { @class = "control-label" })
                                            @Html.DropDownListFor(r => r.DRFRAModel.DossierTemplateID, new SelectList(string.Empty, "Value", "Text"), "Please select option", htmlAttributes: new { @class = "form-control select2", id = "DossierTemplate" })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.DossierTemplateID, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4" style="display:none">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.PlantInspection, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PlantInspection, true, htmlAttributes: new { @class = "radiobuttons", id = "PlantInspectionRequiredYes" })
                                                <label for="PlantInspectionRequiredYes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PlantInspection, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "PlantInspectionRequiredNo" })
                                                <label for="PlantInspectionRequiredNo">
                                                    No
                                                </label>
                                            </div>
                                            <br>
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.PlantInspection, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.ValidationBatches, new { @class = "control-label" })
                                            <br />
                                            @Html.DropDownListFor(r => r.DRFRAModel.ValidationBatches, new SelectList(string.Empty, "Value", "Text"), "Please select option", htmlAttributes: new { @class = "form-control select2", id = "ValidationBatches" })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.ValidationBatches, "", new { @class = "text-danger" })

                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.COAAvailability, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.COAAvailability, true, htmlAttributes: new { @class = "radiobuttons", id = "COAAvailabilityYes" })
                                                <label for="COAAvailabilityYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.COAAvailability, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "COAAvailabilityNo" })
                                                <label for="COAAvailabilityNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.COAAvailability, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4" style="display:none">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.BEAvailability, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.BEAvailability, true, htmlAttributes: new { @class = "radiobuttons", id = "BEAvailabililtyYes" })
                                                <label for="BEAvailabililtyYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.BEAvailability, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "BEAvailabililtyNo" })
                                                <label for="BEAvailabililtyNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.BEAvailability, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.APIDMFstatus, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.APIDMFstatus, true, htmlAttributes: new { @class = "radiobuttons", id = "APIDMFstatusRequiredYes" })
                                                <label for="APIDMFstatusRequiredYes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.APIDMFstatus, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "APIDMFstatusRequiredNo" })
                                                <label for="APIDMFstatusRequiredNo">
                                                    No
                                                </label>
                                            </div>
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.APIDMFstatus, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.PlantApproval, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PlantApproval, true, htmlAttributes: new { @class = "radiobuttons", id = "PlantApprovalRequiredYes" })
                                                <label for="PlantApprovalRequiredYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PlantApproval, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "PlantApprovalRequiredNo" })
                                                <label for="PlantApprovalRequiredNo">
                                                    No
                                                </label>
                                            </div>
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.PlantApproval, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.PlantApprovalIfYes, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PlantApprovalIfYes, "Onsite", htmlAttributes: new { @class = "radiobuttons", id = "Onsite", disabled = "disabled" })
                                                <label for="Onsite">
                                                    OnSite
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PlantApprovalIfYes, "Desktop", htmlAttributes: new { @class = "radiobuttons", id = "Desktop", disabled = "disabled" })
                                                <label for="Desktop">
                                                    Desktop
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.PlantApprovalIfYes, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.RegistrationValidity, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.RegistrationValidity, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Registration Validity" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.RegistrationValidity, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.Timefordossierpreparation, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.Timefordossierpreparation, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "30 Days Post HOD Approval" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.Timefordossierpreparation, "", new { @class = "text-danger" })
                                            <label>*Translation and embassy Legalization is time consuming task which may defer stipluated timeline for few countries.</label>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.AMV, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.AMV, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "AMV" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.AMV, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.PDR, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PDR, true, htmlAttributes: new { @class = "radiobuttons", id = "PDRYes" })
                                                <label for="PDRYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.PDR, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "PDRNo" })
                                                <label for="PDRNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.PDR, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.SamplesAvailability, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.SamplesAvailability, true, htmlAttributes: new { @class = "radiobuttons", id = "SamplesAvailabilityYes" })
                                                <label for="SamplesAvailabilityYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.SamplesAvailability, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "SamplesAvailabilityNo" })
                                                <label for="SamplesAvailabilityNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.SamplesAvailability, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.ImportPermit, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.ImportPermit, true, htmlAttributes: new { @class = "radiobuttons", id = "ImportPermitYes" })
                                                <label for="ImportPermitYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.ImportPermit, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "ImportPermitNo" })
                                                <label for="ImportPermitNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.ImportPermit, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.BrandNameApproval, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.BrandNameApproval, "Yes", htmlAttributes: new { @class = "radiobuttons", id = "BrandNameApprovalYes" })
                                                <label for="BrandNameApprovalYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.BrandNameApproval, "No", htmlAttributes: new { @class = "radiobuttons radio-checked", id = "BrandNameApprovalNo" })
                                                <label for="BrandNameApprovalNo">
                                                    No
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.BrandNameApproval, "Not Applicable", htmlAttributes: new { @class = "radiobuttons", id = "BrandNameApprovalNotApplicable" })
                                                <label for="BrandNameApprovalNotApplicable">
                                                    Not Applicable
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.BrandNameApproval, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                    <div class="col-sm-4" style="display:none">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.AvailabilityofCDA, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.AvailabilityofCDA, true, htmlAttributes: new { @class = "radiobuttons", id = "AvailabilityOfCDAYes" })
                                                <label for="AvailabilityOfCDAYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(r => r.DRFRAModel.AvailabilityofCDA, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "AvailabilityOfCDANo" })
                                                <label for="AvailabilityOfCDANo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.AvailabilityofCDA, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.CurrencyID, new { @class = "control-label" })<br />
                                            @Html.DropDownListFor(r => r.DRFRAModel.CurrencyID, new SelectList(string.Empty, "Value", "Text"), "Please select option", htmlAttributes: new { @class = "form-control select2", })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.CurrencyID, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.ProductRegistrationFee, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.ProductRegistrationFee, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Product Registration Fee (from Basics)" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.ProductRegistrationFee, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.ConsultantCost, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.ConsultantCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Consultant Cost" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.ConsultantCost, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                    <div class="col-sm-3">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.LegalizationCost, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.LegalizationCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Legalization Cost" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.LegalizationCost, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.TranslationCost, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.TranslationCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Translation Cost" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.TranslationCost, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-3">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.OtherCost, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.OtherCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "OtherCost" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.OtherCost, "", new { @class = "text-danger" })
                                        </div>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.ComparativeDissolutionProfileData, new { @class = "control-label" })
                                            <br />
                                            @Html.EditorFor(r => r.DRFRAModel.ComparativeDissolutionProfileData, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Comparative Dissolution Profile Data" } })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.ComparativeDissolutionProfileData, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="form-group required">
                                            @Html.LabelFor(r => r.DRFRAModel.Remarks, new { @class = "control-label" })
                                            <br />
                                            @Html.TextAreaFor(r => r.DRFRAModel.Remarks, new { @autocomplete = "off", @class = "form-control", @placeholder = "Additional Remarks" })
                                            @Html.ValidationMessageFor(r => r.DRFRAModel.Remarks, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer text-center" style="margin:20px -20px -20px;">
                                    @if (User.IsInRole("Prescriber") || User.IsInRole("Regulatory Manager"))
                                    {
                                        <button id="DRFRAModel_Submit" type="submit" class="btn btn-primary">Update RA Information</button>
                                    }
                                </div>
                            </form>
                        </div>

                        <div class="tab-pane fade" id="custom-tabs-three-medical" role="tabpanel" aria-labelledby="custom-tabs-three-medical-tab">
                            <h4 class="text-divider"><span>Medical Details</span></h4>
                            <form method="post" name="MedicalDetails" onsubmit="return SubmitDRFMedicalForm(this)">
                                <div class="row">
                                    @Html.HiddenFor(medical => medical.DRFMedicalModel.InitializationID)
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.BeCtVitroAvailable, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(medical => medical.DRFMedicalModel.BeCtVitroAvailable, true, htmlAttributes: new { @class = "radiobuttons", id = "BeCtVitroAvailableYes" })
                                                <label for="BeCtVitroAvailableYes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(medical => medical.DRFMedicalModel.BeCtVitroAvailable, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "BeCtVitroAvailableNo" })
                                                <label for="BeCtVitroAvailableNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(medical => medical.DRFMedicalModel.BeCtVitroAvailable, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group" id="BECost">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.BECost, new { @class = "control-label" })
                                            <br />
                                            @Html.TextBoxFor(medical => medical.DRFMedicalModel.BECost, new { @autocomplete = "off", @class = "form-control", @placeholder = "BE Cost" })
                                            <small class="text-danger" id="DRFMedicalModel_BECost_Error"></small>
                                        </div>
                                        <div class="form-group">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.Remark1, new { @class = "control-label" })
                                            @Html.TextAreaFor(medical => medical.DRFMedicalModel.Remark1, new { @autocomplete = "off", @class = "form-control", @placeholder = "Remarks", @rows = 4, id = "Remark1" })
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group required">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.BioWaiver, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(medical => medical.DRFMedicalModel.BioWaiver, true, htmlAttributes: new { @class = "radiobuttons", id = "BioWaiverYes" })
                                                <label for="BioWaiverYes">
                                                    Yes
                                                </label>
                                            </div>
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(medical => medical.DRFMedicalModel.BioWaiver, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "BioWaiverNo" })
                                                <label for="BioWaiverNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(medical => medical.DRFMedicalModel.BioWaiver, "", new { @class = "text-danger" })
                                        </div>

                                        <div class="form-group" id="BioCost">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.BioCost, new { @class = "control-label" })
                                            <br />
                                            @Html.TextBoxFor(medical => medical.DRFMedicalModel.BioCost, new { @autocomplete = "off", @class = "form-control", @placeholder = "Bio Cost" })
                                            <small class="text-danger" id="DRFMedicalModel_BioCost_Error"></small>
                                        </div>
                                        <div class="form-group">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.Remark2, new { @class = "control-label" })
                                            @Html.TextAreaFor(medical => medical.DRFMedicalModel.Remark2, new { @autocomplete = "off", @class = "form-control", @placeholder = "Remarks", @rows = 4, id = "Remark2" })
                                        </div>

                                    </div>
                                    <div class="col-sm-4">
                                        <!-- text input -->
                                        <div class="form-group required">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.CTWaiver, new { @class = "control-label" })
                                            <br />
                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(medical => medical.DRFMedicalModel.CTWaiver, true, htmlAttributes: new { @class = "radiobuttons", id = "CTWaiverYes" })
                                                <label for="CTWaiverYes">
                                                    Yes
                                                </label>
                                            </div>

                                            <div class="icheck-primary d-inline mr-5">
                                                @Html.RadioButtonFor(medical => medical.DRFMedicalModel.CTWaiver, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "CTWaiverNo" })
                                                <label for="CTWaiverNo">
                                                    No
                                                </label>
                                            </div>
                                            <br />
                                            @Html.ValidationMessageFor(medical => medical.DRFMedicalModel.CTWaiver, "", new { @class = "text-danger" })
                                        </div>
                                        <div class="form-group" id="CTCost">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.CTCost, new { @class = "control-label" })
                                            <br />
                                            @Html.TextBoxFor(medical => medical.DRFMedicalModel.CTCost, new { @autocomplete = "off", @class = "form-control", @placeholder = "CT Cost" })
                                            <small class="text-danger" id="DRFMedicalModel_CTCost_Error"></small>
                                        </div>
                                        <div class="form-group">
                                            @Html.LabelFor(medical => medical.DRFMedicalModel.Remark3, new { @class = "control-label" })
                                            @Html.TextAreaFor(medical => medical.DRFMedicalModel.Remark3, new { @autocomplete = "off", @class = "form-control", @placeholder = "Remarks", @rows = 4, id = "Remark3" })
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer text-center" style="margin:20px -20px -20px;">
                                    @if (User.IsInRole("Prescriber") || User.IsInRole("Medical Manager"))  //Finance Manager
                                    {
                                        <button type="submit" id="DRFMedicalModel_Submit" class="btn btn-primary">Update Medical Details</button>
                                    }
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- /.card -->
            </div>
            @if (User.IsInRole("Prescriber") || User.IsInRole("Finance Manager"))
            {
                <div class="row">
                <section class="col-lg-12">
                    <!-- Custom tabs (Charts with tabs)-->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="far fa-plus-square mr-2"></i> Finance Details
                            </h3>
                            <div class="card-tools">
                                <button type="button" class="btn btn-tool p-0 mr-3" data-card-widget="maximize">
                                    <i class="fas fa-expand"></i>
                                </button>
                                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                    <i class="fas fa-minus"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.card-header -->

                        <form method="post" onsubmit="return SubmitFinanceApprovalForm(this)">
                            <div class="card-body">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th colspan="2">Value in USD only</th>
                                            <th class="text-center">Year 1</th>
                                            <th class="text-center">Year 2</th>
                                            <th class="text-center">Year 3</th>
                                            <th class="text-center">Total</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="2" class="text-bold">Forecast Units (Packs) ($)</td>
                                            <td class="text-center" id="DRFInitializationFinance_FirstYearForecastUnitsPacks"></td>
                                            <td class="text-center" id="DRFInitializationFinance_SecondYearForecastUnitsPacks"></td>
                                            <td class="text-center" id="DRFInitializationFinance_ThirdYearForecastUnitsPacks"></td>
                                            <td class="text-center" id="DRFInitializationFinance_TotalForecastUnitsPacks"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" class="text-bold">Forecast CIF (for Emcure) ($)</td>
                                            <td class="text-center" id="DRFInitializationFinance_FirstYearForecastCIF"></td>
                                            <td class="text-center" id="DRFInitializationFinance_SecondYearForecastCIF"></td>
                                            <td class="text-center" id="DRFInitializationFinance_ThirdYearForecastCIF"></td>
                                            <td class="text-center" id="DRFInitializationFinance_TotalForecastCIF"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" class="text-bold">Forecast Value (Emcure) ($)</td>
                                            <td class="text-center" id="DRFInitializationFinance_FirstYearForecastValue"></td>
                                            <td class="text-center" id="DRFInitializationFinance_SecondYearForecastValue"></td>
                                            <td class="text-center" id="DRFInitializationFinance_ThirdYearForecastValue"></td>
                                            <td class="text-center" id="DRFInitializationFinance_TotalForecastValue"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" class="text-bold">Forecast Price to patient (for our brand)($)</td>
                                            <td class="text-center" id="DRFInitializationFinance_FirstYearForecastPriceToPatient"></td>
                                            <td class="text-center" id="DRFInitializationFinance_SecondYearForecastPriceToPatient"></td>
                                            <td class="text-center" id="DRFInitializationFinance_ThirdYearForecastPriceToPatient"></td>
                                            <td class="text-center" id="DRFInitializationFinance_TotalForecastPriceToPatient"></td>
                                        </tr>
                                        <tr>
                                            <td class="text-bold form-group required"><label class="control-label">Freight ($)</label></td>
                                            <td class="text-bold">
                                                @Html.Editor("Freight", new { htmlAttributes = new { @autocomplete = "off", @class = "form-control focusout", @placeholder = "Freight", id = "AutoFreight" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.Freight, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.Freight, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 1", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.Freight, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.FreightYearTwo, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 2", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.FreightYearTwo, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.FreightYearThree, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 3", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.FreightYearThree, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center" id="DRFFinanceModel_TotalFreight"></td>
                                        </tr>
                                        <tr>
                                            <td class="text-bold form-group required"><label class="control-label">Ex Works ($)</label></td>
                                            <td class="text-bold">
                                                @Html.Editor("Ex Works", new { htmlAttributes = new { @autocomplete = "off", @class = "form-control focusout", @placeholder = "Ex Works", id = "AutoExworks" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.Exworks, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.Exworks, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 1", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.Exworks, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.ExworksYearTwo, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 2", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.ExworksYearTwo, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.ExworksYearThree, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 3", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.ExworksYearThree, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center" id="DRFFinanceModel_TotalExworks"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" class="text-bold form-group required"><label class="control-label">GC Minimum ($)</label></td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.GCMinimum, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 1" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.GCMinimum, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.GCMinimumYearTwo, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 2" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.GCMinimumYearTwo, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.GCMinimumYearThree, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Year 3" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.GCMinimumYearThree, "", new { @class = "text-danger" })
                                            </td>
                                            <td class="text-center" id="DRFFinanceModel_TotalGCMinimum"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right form-group required">
                                                <label class="control-label">Total Contribution ($)</label>
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.TotalContribution, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.TotalContribution, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="3" class="text-bold text-right">
                                                <a href="javascript:void()" id="addexpence" class="btn btn-primary">Expences&nbsp;<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="border-white1"></td>
                                            <td colspan="2" class="text-right form-group required  border-white1">
                                                <label class="control-label" style="font-weight:400;">Expenses ($)</label>
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.Expenses, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Expenses" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.Expenses, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="border-white1"></td>
                                            <td colspan="2" class="text-right  border-white1">Litigation Cost ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.LitigationCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Litigation Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.LitigationCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right  border-white1">Freight cost per pack ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.FreightCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Freight cost per pack" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.FreightCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class=" text-right border-white1">Product Registration Fee (from Basics)($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.RegistrationCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Registration Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.RegistrationCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class=" text-right border-white1">Consultant Cost ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.ConsultantCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Consultant Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.ConsultantCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right border-white1">Legalization Cost ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.LegalizationCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Legalization Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.LegalizationCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right border-white1">Translation Cost ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.TranslationCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Translation Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.TranslationCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right border-white1">Other Cost ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.OtherCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Other Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.OtherCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right border-white1">BE/CT/In-Vitro BE Available Cost($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.BECost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "BE Available Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.BECost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right border-white1">Bio Waiver Cost ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.BioCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Bio Waiver Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.BioCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right border-white1">CT Waiver Cost ($)</td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.CTCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "CT Waiver Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.CTCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr class="custom-row show-expence" style="display:none;">
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right form-group required border-white1">
                                                <label class="control-label" style="font-weight:400;">Filing Cost</label>
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.FilingCost, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @placeholder = "Filing Cost" } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.FilingCost, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="text-bold border-white1"></td>
                                            <td colspan="2" class="text-right form-group required">
                                                <label class="control-label">Net Contribution ($)</label>
                                            </td>
                                            <td class="text-center">
                                                @Html.EditorFor(f => f.DRFFinanceApproval.NetContribution, new { htmlAttributes = new { @autocomplete = "off", @class = "form-control", @readonly = true } })
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.NetContribution, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3" class="text-bold border-white1">@Html.HiddenFor(f => f.DRFFinanceApproval.InitializationID)</td>
                                            <td colspan="2" class="text-right form-group required">
                                                @Html.LabelFor(f => f.DRFFinanceApproval.IsOverallBusinessCaseFine, new { @class = "control-label" })
                                            </td>
                                            <td class="text-center">
                                                <div class="icheck-primary d-inline mr-5">
                                                    @Html.RadioButtonFor(f => f.DRFFinanceApproval.IsOverallBusinessCaseFine, true, htmlAttributes: new { @class = "radiobuttons", id = "IsOverallBusinessCaseFineYes" })
                                                    <label for="IsOverallBusinessCaseFineYes">
                                                        Yes
                                                    </label>
                                                </div>
                                                <div class="icheck-primary d-inline">
                                                    @Html.RadioButtonFor(f => f.DRFFinanceApproval.IsOverallBusinessCaseFine, false, htmlAttributes: new { @class = "radiobuttons radio-checked", id = "IsOverallBusinessCaseFineNo" })
                                                    <label for="IsOverallBusinessCaseFineNo">
                                                        No
                                                    </label>
                                                </div>
                                                @Html.ValidationMessageFor(f => f.DRFFinanceApproval.IsOverallBusinessCaseFine, "", new { @class = "text-danger" })
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="card-footer text-center">
                                @if (User.IsInRole("Prescriber") || User.IsInRole("Finance Manager"))
                                {
                                    <button type="submit" id="DRFFinanceApproval_Submit" class="btn btn-primary">Update Finance Details</button>
                                }
                            </div>
                        </form>
                        <!-- /.card -->
                    </div>
                </section>
            </div>

            <!-- /.row (main row) -->
            }
        </div>
		<!-- /.container-fluid -->
	</section>
	<!-- /.content -->
</div>

<script>
    var IPcounter = 1;
    var currentRole = '@HttpContextAccessor.HttpContext.Session.GetString("CurrentUserRole")';
    //console.log(currentRole);
    //console.log(User.IsInRole("Prescriber"));
    if (currentRole == "ManufacturingTeam" || currentRole == "Manufacturing Manager") {

       // console.log("ip");
        $('#custom-tabs-three-home-tab').removeClass('active');
        $('#custom-tabs-three-home').removeClass('active');
        $('#custom-tabs-three-home').removeClass('show');

        //console.log("manufacturing");
        $('#custom-tabs-three-profile-tab').addClass('active');
        $('#custom-tabs-three-profile').addClass('active');
        $('#custom-tabs-three-profile').addClass('show');

    }
    else if (currentRole == "SupplyChainManagement" || currentRole == "SCM Manager") {
        //console.log("ip");
        $('#custom-tabs-three-home-tab').removeClass('active');
        $('#custom-tabs-three-home').removeClass('active');
        $('#custom-tabs-three-home').removeClass('show');

        //console.log("scm");
        $('#custom-tabs-three-messages-tab').addClass('active');
        $('#custom-tabs-three-messages').addClass('active');
        $('#custom-tabs-three-messages').addClass('show');

    }
    else if (currentRole == "RegulatoryTeam" || currentRole == "Regulatory Manager") {        
        $('#custom-tabs-three-home-tab').removeClass('active');
        $('#custom-tabs-three-home').removeClass('active');
        $('#custom-tabs-three-home').removeClass('show');
       
        $('#custom-tabs-three-settings-tab').addClass('active');
        $('#custom-tabs-three-settings').addClass('active');
        $('#custom-tabs-three-settings').addClass('show');

    }
    else if (currentRole == "MedicalTeam" || currentRole == "Medical Manager") {
        
        $('#custom-tabs-three-home-tab').removeClass('active');
        $('#custom-tabs-three-home').removeClass('active');
        $('#custom-tabs-three-home').removeClass('show');
       
        $('#custom-tabs-three-medical-tab').addClass('active');
        $('#custom-tabs-three-medical').addClass('active');
        $('#custom-tabs-three-medical').addClass('show');
    }

    $("#DRFSCMModel_FreightCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.00);
        }
        $("#DRFSCMModel_FreightCost").val(Number.parseFloat($("#DRFSCMModel_FreightCost").val()).toFixed(2));
   });
    $("#DRFRAModel_ProductRegistrationFee").focusout(function () {
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.00);
        }
        $("#DRFRAModel_ProductRegistrationFee").val(Number.parseFloat($("#DRFRAModel_ProductRegistrationFee").val()).toFixed(2));
    });

	$("#DRFRAModel_ConsultantCost").focusout(function () {
		if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
			$(this).val(0.00);
		}
		$("#DRFRAModel_ConsultantCost").val(Number.parseFloat($("#DRFRAModel_ConsultantCost").val()).toFixed(2));
	});

	$("#DRFRAModel_LegalizationCost").focusout(function () {
		if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
			$(this).val(0.00);
		}
		$("#DRFRAModel_LegalizationCost").val(Number.parseFloat($("#DRFRAModel_LegalizationCost").val()).toFixed(2));
	});

	$("#DRFRAModel_TranslationCost").focusout(function () {
		if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
			$(this).val(0.00);
		}
		$("#DRFRAModel_TranslationCost").val(Number.parseFloat($("#DRFRAModel_TranslationCost").val()).toFixed(2));
	});

	$("#DRFRAModel_OtherCost").focusout(function () {
		if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
			$(this).val(0.00);
		}
		$("#DRFRAModel_OtherCost").val(Number.parseFloat($("#DRFRAModel_OtherCost").val()).toFixed(2));
	});
	$("#DRFMedicalModel_BECost").focusout(function () {
		if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
			$(this).val(0.00);
		}
		$("#DRFMedicalModel_BECost").val(Number.parseFloat($("#DRFMedicalModel_BECost").val()).toFixed(2));
	});

	$("#DRFMedicalModel_BioCost").focusout(function () {
		if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
			$(this).val(0.00);
		}
		$("#DRFMedicalModel_BioCost").val(Number.parseFloat($("#DRFMedicalModel_BioCost").val()).toFixed(2));
	});

	$("#DRFMedicalModel_CTCost").focusout(function () {

		if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
			$(this).val(0.00);
		}
		$("#DRFMedicalModel_CTCost").val(Number.parseFloat($("#DRFMedicalModel_CTCost").val()).toFixed(2));
	});
     $("#DRFIPModel_CostofLitigation").focusout(function () {        
        if (isNaN($(this).val())){
            $(this).val(0.00);
        }
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.00);
        }
        $("#DRFIPModel_CostofLitigation").val(Number.parseFloat($("#DRFIPModel_CostofLitigation").val()).toFixed(2));
     });

    $('#DRFIPModel_CostofLitigation').on('keypress', function () {
        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57 ) ) {
            return false;
        }
        return true;
      });

    $("#DRFManufacturingModel_GrossWeight").focusout(function () {        
        if (isNaN($(this).val())) {
            $(this).val(0.0000);
        }
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.0000);
        }

        $("#DRFManufacturingModel_GrossWeight").val(Number.parseFloat($("#DRFManufacturingModel_GrossWeight").val()).toFixed(4));
    });

    $('#DRFManufacturingModel_GrossWeight').on('keypress', function () {

        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    });

    $("#DRFManufacturingModel_PackorShipper").focusout(function () {        
        if (isNaN($(this).val())) {
            $(this).val(0.00);
        }
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.00);
        }
        $("#DRFManufacturingModel_PackorShipper").val(Number.parseFloat($("#DRFManufacturingModel_PackorShipper").val()).toFixed(2));
    });

    $('#DRFManufacturingModel_PackorShipper').on('keypress', function () {
        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    });

    $("#DRFManufacturingModel_MWidth").focusout(function () {        
        if (isNaN($(this).val())) {
            $(this).val(0.00);
        }
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.00);
        }
        $("#DRFManufacturingModel_MWidth").val(Number.parseFloat($("#DRFManufacturingModel_MWidth").val()).toFixed(2));
    });

    $('#DRFManufacturingModel_MWidth').on('keypress', function () {
        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    });

    $("#DRFManufacturingModel_MHeight").focusout(function () {        
        if (isNaN($(this).val())) {
            $(this).val(0.00);
        }
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.00);
        }
        $("#DRFManufacturingModel_MHeight").val(Number.parseFloat($("#DRFManufacturingModel_MHeight").val()).toFixed(2));
    });

    $('#DRFManufacturingModel_MHeight').on('keypress', function () {

        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    });

    $("#DRFManufacturingModel_MLength").focusout(function () {        
        if (isNaN($(this).val())) {
            $(this).val(0.00);
        }
        if ($(this).val() == null || $(this).val() == undefined || $(this).val() == "") {
            $(this).val(0.00);
        }
        $("#DRFManufacturingModel_MLength").val(Number.parseFloat($("#DRFManufacturingModel_MLength").val()).toFixed(2));
    });

    $('#DRFManufacturingModel_MLength').on('keypress', function () {
        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    });

    var PIDFInitializationID = 0;
    var PIDFCountryID = 0;
    var forcastValue = 0;
    var counter = 1;
    var detailsArray = [];
    $('#DRFRAModel_GMPAvailability').hide();
    $(function () {

        $('.datetimepicker').datetimepicker({
            format: 'DD-MM-YYYY',
            minDate: new Date()
        });

        $(".datetimepicker").keydown(false);

        $(".radio-checked").attr('checked',true);

        $('#DRFRAModel_GMPAvailabilityId').change(function () {           
            var selected = $(this).val();
            if (selected == 5) {
                $('#DRFRAModel_GMPAvailability').addClass('required').show();
            }
            else {
                $('#DRFRAModel_GMPAvailability').removeClass('required').hide();
            }
        });

        $('input:radio[id="PlantApprovalRequiredYes"]').change(function () {          
            if ($(this).val() === 'True') {               
                $("#Onsite").attr('checked',true);
                $('#Onsite').removeAttr('disabled');
                $('#Desktop').removeAttr('disabled');
            }
        });

         $('input:radio[id="PlantApprovalRequiredNo"]').change(function () {            
             if ($(this).val() === 'False') {
                $("#Onsite").removeAttr('checked');
                $('#Onsite').attr("disabled", true);
                $('#Desktop').attr("disabled", true);
             }
        });	

    });

    $(document).ready(function () {
         
        var dataTable, getPIDFList;
        
        $('#loading').show();
        $.ajax({
            type: "POST",
            url: '@Url.Action("GetDropdownsForDRFAddDetails", "DRFInitialization")/',
            //contentType: "application/json; charset=utf-8",
            dataType: "json",
            //data: data,
            success: function (response) {
                //console.log(response);
                $('#loading').hide();
                $('#ManufactureSite').empty().append("<option value=''>Please select option</option>");
                $.each(response.data.drfManufacturingModel.manufacturingSiteList, function (i, List) {
                    $("#ManufactureSite").append('<option value="' + List.manufacturingSiteID + '">' + List.manufacturingSite + '</option>');
                });


                $('#ArtworkType').empty().append("<option value=''>Please select option</option>");
                $.each(response.data.drfManufacturingModel.artWorkTypeList, function (i, List) {
                    $("#ArtworkType").append('<option value="' + List.artworkTypeId + '">' + List.artworkTypeName + '</option>');
                });


                $('#APISite').empty().append("<option value=''>Please select option</option>");
                $.each(response.data.drfManufacturingModel.apiSiteList, function (i, List) {
                    $("#APISite").append('<option value="' + List.apiid + '">' + List.apiSite + '</option>');
                });
				$('#cmbSOM').empty().append("<option value=''>Please select option</option>");
				$.each(response.data.drfManufacturingModel.apiSiteList, function (i, List) {
					$("#cmbSOM").append('<option value="' + List.apiid + '">' + List.apiSite + '</option>');
				});

                $('#DRFRAModel_GMPAvailabilityId').empty().append("<option value=''>Please select option</option>");
                $.each(response.data.drfraModel.gmpAvailabilityList, function (i, List) {
                    $("#DRFRAModel_GMPAvailabilityId").append('<option value="' + List.gmpAvailabilityID + '">' + List.gmpAvailability + '</option>');
                });

                $('#DRFRAModel_CurrencyID').empty().append("<option value=''>Please select option</option>");
                $.each(response.data.drfraModel.currencyList, function (i, List) {
                    $("#DRFRAModel_CurrencyID").append('<option value="' + List.currencyID + '">' + List.currency + '</option>');
                });

                $('#DossierTemplate').empty().append("<option value=''>Please select option</option>");
                $.each(response.data.drfraModel.dossierTemplateList, function (i, List) {
                    $("#DossierTemplate").append('<option value="' + List.dossierTemplateID + '">' + List.dossierTemplate + '</option>');

                });

                var ValidationBatchesList = [];

                for (var i = 1; i <= 5; i++) {

                    var temp = { ID:i,Value:i};

                    ValidationBatchesList.push(temp);
                }

                $('#ValidationBatches').empty().append("<option value=''>Please select option</option>");
                $.each(ValidationBatchesList, function (i, List) {
                    $("#ValidationBatches").append('<option value="' + List.ID + '">' + List.Value + '</option>');
                });
            },
            failure: function () {

            }
        });

		var initialdata = { InitializationID:'@ViewBag.UpdateInitializationID'};

        $.ajax({
            type: "POST",
            url: '@Url.Action("GetFilledIPMANSCMRADetails", "DRFInitialization")/',
            //contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: initialdata,
			success: function (response) {				
				$('#loading').hide();			

				//Approval Summary table
				$('#DossierCreatedName').text(response.data.drfApprovalDetails.drfCreatedName);
				$('#DossierCreatedDateTime').text(convertDDMMYYY(response.data.drfApprovalDetails.drfCreatedDate.split('T')[0]));

                $('#CountryManagerApprovalName').text(response.data.drfApprovalDetails.cmApprovalName);

                if (response.data.drfApprovalDetails.drfCreatedName == response.data.drfApprovalDetails.lmApprovalName) {
                    $('#CountryManagerApprovalName').text("-")
                }
                else {
                    $('#CountryManagerApprovalName').text(response.data.drfApprovalDetails.cmApprovalName);
                    $('#CountryManagerApprovalDateTime').text(convertDDMMYYY(response.data.drfApprovalDetails.cmCreatedDate.split('T')[0]));
                }
				
				$('#LineManagerApprovalName').text(response.data.drfApprovalDetails.lmApprovalName);
				$('#LineManagerApprovalDateTime').text(convertDDMMYYY(response.data.drfApprovalDetails.lmCreatedDate.split('T')[0]));

				$('#HODofDossierApprovalName').text(response.data.drfApprovalDetails.hodApprovalName);
				$('#HODofDossierApprovalDateTime').text(convertDDMMYYY(response.data.drfApprovalDetails.hodCreatedDate.split('T')[0]));

				//Initialization Details
				PIDFInitializationID = response.data.initializationDetails.initializationID;
				PIDFCountryID = response.data.initializationDetails.countryID;

                if (response.data.ipHeaderList.length > 0) {                    
                    if (response.data.ipHeaderList[0].costofLitigation != null) {
                        var templitigationcost = parseFloat(response.data.ipHeaderList[0].costofLitigation);
                        $('#DRFFinanceApproval_LitigationCost').val(templitigationcost.toFixed(2));
                    }                   
				}
				if (response.data.scmList.length > 0) {
					$('#DRFFinanceApproval_FreightCost').val(response.data.scmList[0].freightCost.toFixed(2));
				}

				if (response.data.raList.length > 0) {
					$('#DRFFinanceApproval_RegistrationCost').val(response.data.raList[0].productRegistrationFee.toFixed(2));
					$('#DRFFinanceApproval_ConsultantCost').val(response.data.raList[0].consultantCost.toFixed(2));
					$('#DRFFinanceApproval_LegalizationCost').val(response.data.raList[0].legalizationCost.toFixed(2));
					$('#DRFFinanceApproval_TranslationCost').val(response.data.raList[0].translationCost.toFixed(2));
					$('#DRFFinanceApproval_OtherCost').val(response.data.raList[0].otherCost.toFixed(2));
				}
				if (response.data.medicalList.length > 0) {
					$('#DRFFinanceApproval_BECost').val(response.data.medicalList[0].beCost.toFixed(2));
					$('#DRFFinanceApproval_BioCost').val(response.data.medicalList[0].bioCost.toFixed(2));
					$('#DRFFinanceApproval_CTCost').val(response.data.medicalList[0].ctCost.toFixed(2));
				}


				$('#DRFInitialization_CountryID').text(response.data.initializationDetails.country);
				$('#DRFInitialization_GenericName').text(response.data.initializationDetails.genericName);
				$('#DRFInitialization_BrandName').text(response.data.initializationDetails.brandName);
				if (response.data.initializationDetails.treadmarkApprovedInternal == true) {
					$('#DRFInitialization_TreadmarkApprovedInternal').text("Yes");
				}
				else {
					$('#DRFInitialization_TreadmarkApprovedInternal').text("No");
				}
				$('#DRFInitialization_TreadmarkSuggestedInternal').text(response.data.initializationDetails.treadmarkSuggestedInternal);
				$('#DRFInitialization_TreadmarkOwnerInternal').text(response.data.initializationDetails.treadmarkOwnerInternal);
				$('#DRFInitialization_Form').text(response.data.initializationDetails.form);
				$('#DRFInitialization_Strength').text(response.data.initializationDetails.strength);
				$('#DRFInitialization_PackSize').text(response.data.initializationDetails.packSize);
				$('#DRFInitialization_PackStyle').text(response.data.initializationDetails.packStyle);
                $('#DRFInitialization_Plant').text(response.data.initializationDetails.plant);
                $('#DRFInitialization_ProductType').text(response.data.initializationDetails.productType);
				$('#DRFInitialization_Currency').text(response.data.initializationDetails.currency);

				if (response.data.initializationDetails.registrationFees != null) {
					$('#DRFInitialization_RegistrationFees').text(response.data.initializationDetails.registrationFees.toFixed(2));
				}

				$('#DRFInitialization_FeesToBePaidBy').text(response.data.initializationDetails.feesToBePaidBy);
				$('#DRFInitialization_ModeOfFeesPayment').text(response.data.initializationDetails.modeOfFeesPayment);
				$('#DRFInitialization_MAHolder').text(response.data.initializationDetails.maHolder);
				$('#DRFInitialization_ProposedMarketingStatus').text(response.data.initializationDetails.proposedMarketingStatus);
				$('#DRFInitialization_ShippingPort').text(response.data.initializationDetails.shippingPort);
				$('#DRFInitialization_ModeOfShipment').text(response.data.initializationDetails.modeOfShipment);
				$('#DRFInitialization_Incoterms').text(response.data.initializationDetails.incoterms);
				$('#DRFInitialization_DossierSubmittedToMOHBy').text(response.data.initializationDetails.dossierSubmittedToMOHBy);
				$('#DRFInitialization_OwnerOfRegistration').text(response.data.initializationDetails.ownerOfRegistration);

				$('#DRFInitialization_Remark').text(response.data.initializationDetails.remark);
				if (response.data.initializationDetails.isSamples_Required == true) {
                    $('#DRFInitialization_Samples_Required').text(response.data.initializationDetails.samples_Required);
                }
                else {
                    $('#DRFInitialization_Samples_Required').text("No");
                }

				if (response.data.initializationDetails.availabilityofCDA == true) {
					$('#DRFInitialization_AvailabilityofCDA').text("Yes");
				}
				else {
					$('#DRFInitialization_AvailabilityofCDA').text("No");
				}

				if (response.data.initializationDetails.tsExcecuted == true) {
					$('#DRFInitialization_TSExcecuted').text("Yes");
				}
				else {
					$('#DRFInitialization_TSExcecuted').text("No");
				}

				if (response.data.initializationDetails.daExcecuted == true) {
					$('#DRFInitialization_DAExcecuted').text("Yes");
				}
				else {
					$('#DRFInitialization_DAExcecuted').text("No");
				}

				$('#DRFInitialization_MarketSize').text(response.data.initializationDetails.marketSize.toFixed(2));
				$('#DRFInitialization_ThreeYearCAGR').text(response.data.initializationDetails.threeYearCAGR);
				$('#DRFInitialization_NumberOfCurrentPlayer').text(response.data.initializationDetails.numberOfCurrentPlayer);
				$('#DRFInitialization_ExpectedMarketValueGrowth').text(response.data.initializationDetails.expectedMarketValueGrowth.toFixed(2));
				$('#DRFInitialization_InnovatorBrand').text(response.data.initializationDetails.innovatorBrand);
				$('#DRFInitialization_InnavotorName').text(response.data.initializationDetails.innavotorName);
				$('#DRFInitialization_FirstBrand').text(response.data.initializationDetails.firstBrand);
				$('#DRFInitialization_MSFirstBrand').text(response.data.initializationDetails.msFirstBrand);
				$('#DRFInitialization_SecondBrand').text(response.data.initializationDetails.secondBrand);
				$('#DRFInitialization_MSSecondBrand').text(response.data.initializationDetails.msSecondBrand);
				$('#DRFInitialization_ThirdBrand').text(response.data.initializationDetails.thirdBrand);
				$('#DRFInitialization_MSThirdBrand').text(response.data.initializationDetails.msThirdBrand);
				$('#DRFInitialization_Partner').text(response.data.initializationDetails.partner);
				$('#DRFInitialization_FirstYearForecastUnitsPacks').text(response.data.initializationDetails.firstYearForecastUnitsPacks.toFixed(2));
				$('#DRFInitialization_SecondYearForecastUnitsPacks').text(response.data.initializationDetails.secondYearForecastUnitsPacks.toFixed(2));
				$('#DRFInitialization_ThirdYearForecastUnitsPacks').text(response.data.initializationDetails.thirdYearForecastUnitsPacks.toFixed(2));
				$('#DRFInitialization_FirstYearForecastPriceToPatient').text(response.data.initializationDetails.firstYearForecastPriceToPatient.toFixed(2));
				$('#DRFInitialization_SecondYearForecastPriceToPatient').text(response.data.initializationDetails.secondYearForecastPriceToPatient.toFixed(2));
				$('#DRFInitialization_ThirdYearForecastPriceToPatient').text(response.data.initializationDetails.thirdYearForecastPriceToPatient.toFixed(2));
				$('#DRFInitialization_FirstYearForecastCIF').text(response.data.initializationDetails.firstYearForecastCIF.toFixed(2));
				$('#DRFInitialization_SecondYearForecastCIF').text(response.data.initializationDetails.secondYearForecastCIF.toFixed(2));
				$('#DRFInitialization_ThirdYearForecastCIF').text(response.data.initializationDetails.thirdYearForecastCIF.toFixed(2));
				$('#DRFInitialization_FirstYearForecastValue').text(response.data.initializationDetails.firstYearForecastValue.toFixed(2));
				$('#DRFInitialization_SecondYearForecastValue').text(response.data.initializationDetails.secondYearForecastValue.toFixed(2));
				$('#DRFInitialization_ThirdYearForecastValue').text(response.data.initializationDetails.thirdYearForecastValue.toFixed(2));
				$('#DRFInitialization_OrderFrequency').text(response.data.initializationDetails.orderFrequency);
                $('#DRFInitialization_NoofShipments').text(response.data.initializationDetails.noofShipmnets);
				$('#DRFInitialization_NameDossierSend').text(response.data.initializationDetails.nameDossierSend);

				$('#DRFInitialization_EmailDossierSend').text(response.data.initializationDetails.emailDossierSend);
				$('#DRFInitialization_PhoneDossierSend').text(response.data.initializationDetails.phoneDossierSend);

				$('#DRFInitialization_AddressDossierSend').text(response.data.initializationDetails.addressDossierSend);
				if (response.data.initializationDetails.strategyAlignment == true) {
					$('#DRFInitialization_StrategyAlignment').text("Yes");
				}
				else {
					$('#DRFInitialization_StrategyAlignment').text("No");
				}
				$('#DRFInitialization_ExceptionExplained').text(response.data.initializationDetails.exceptionExplained);
				$('#DRFInitialization_Comment').text(response.data.initializationDetails.initialApproveRejectComment);

				if (response.data.initializationDetails.registrationFees != null) {
					$('#DRFFinanceModel_RegistrationFees').text(response.data.initializationDetails.registrationFees.toFixed(2));
				}
				else {
                    $('#DRFFinanceModel_RegistrationFees').text('0.00');
                }
				

				$('#DRFInitializationFinance_FirstYearForecastUnitsPacks').text(response.data.initializationDetails.firstYearForecastUnitsPacks.toFixed(2));
				$('#DRFInitializationFinance_SecondYearForecastUnitsPacks').text(response.data.initializationDetails.secondYearForecastUnitsPacks.toFixed(2));
				$('#DRFInitializationFinance_ThirdYearForecastUnitsPacks').text(response.data.initializationDetails.thirdYearForecastUnitsPacks.toFixed(2));
				$('#DRFInitializationFinance_FirstYearForecastPriceToPatient').text(response.data.initializationDetails.firstYearForecastPriceToPatient.toFixed(2));
				$('#DRFInitializationFinance_SecondYearForecastPriceToPatient').text(response.data.initializationDetails.secondYearForecastPriceToPatient.toFixed(2));
				$('#DRFInitializationFinance_ThirdYearForecastPriceToPatient').text(response.data.initializationDetails.thirdYearForecastPriceToPatient.toFixed(2));
				$('#DRFInitializationFinance_FirstYearForecastCIF').text(response.data.initializationDetails.firstYearForecastCIF.toFixed(2));
				$('#DRFInitializationFinance_SecondYearForecastCIF').text(response.data.initializationDetails.secondYearForecastCIF.toFixed(2));
				$('#DRFInitializationFinance_ThirdYearForecastCIF').text(response.data.initializationDetails.thirdYearForecastCIF.toFixed(2));
				$('#DRFInitializationFinance_FirstYearForecastValue').text(response.data.initializationDetails.firstYearForecastValue.toFixed(2));
				$('#DRFInitializationFinance_SecondYearForecastValue').text(response.data.initializationDetails.secondYearForecastValue.toFixed(2));
				$('#DRFInitializationFinance_ThirdYearForecastValue').text(response.data.initializationDetails.thirdYearForecastValue.toFixed(2));

				var TotalForecastUnitsPacks = (response.data.initializationDetails.firstYearForecastUnitsPacks + response.data.initializationDetails.secondYearForecastUnitsPacks + response.data.initializationDetails.thirdYearForecastUnitsPacks).toFixed(2);
				var TotalForecastPriceToPatient = (response.data.initializationDetails.firstYearForecastPriceToPatient + response.data.initializationDetails.secondYearForecastPriceToPatient + response.data.initializationDetails.thirdYearForecastPriceToPatient).toFixed(2);
				var TotalForecastCIF = (response.data.initializationDetails.firstYearForecastCIF + response.data.initializationDetails.secondYearForecastCIF + response.data.initializationDetails.thirdYearForecastCIF).toFixed(2);
				var TotalForecastValue = (response.data.initializationDetails.firstYearForecastValue + response.data.initializationDetails.secondYearForecastValue + response.data.initializationDetails.thirdYearForecastValue).toFixed(2);

				$('#DRFInitializationFinance_TotalForecastUnitsPacks').text(TotalForecastUnitsPacks);
				$('#DRFInitializationFinance_TotalForecastPriceToPatient').text(TotalForecastPriceToPatient);
				$('#DRFInitializationFinance_TotalForecastCIF').text(TotalForecastCIF);
				$('#DRFInitializationFinance_TotalForecastValue').text(TotalForecastValue);


				if (response.data.ipHeaderList.length > 0) {
					$('#DRFIPModel_IPID').val(response.data.ipHeaderList[0].id);
					$('#DRFIPModel_ProjectName').val(response.data.ipHeaderList[0].projectName);
					
					$('#DRFIPModel_Markets').val(response.data.ipHeaderList[0].markets);
					
					$('#DRFIPModel_NumbersOfApprovedANDA').val(response.data.ipHeaderList[0].numbersOfApprovedANDA);
					
					$('#DRFIPModel_PatentStatus').val(response.data.ipHeaderList[0].patentStatus);
					
					$('#DRFIPModel_LegalStatus').val(response.data.ipHeaderList[0].legalStatus);
					
					$('#DRFIPModel_NumbersOfApprovedGeneric').val(response.data.ipHeaderList[0].numbersOfApprovedGeneric);
					
					$('#DRFIPModel_TypeOfFiling').val(response.data.ipHeaderList[0].typeOfFiling);
					
                    if (response.data.ipHeaderList[0].costofLitigation != null) {
                        var tempcostoflitigation = parseFloat(response.data.ipHeaderList[0].costofLitigation);
                        $('#DRFIPModel_CostofLitigation').val(tempcostoflitigation.toFixed(2));
                    }					

					$('#DRFIPModel_IPDComments').val(response.data.ipHeaderList[0].ipdComments);
					

				}





                if (response.data.ipDetailsList.length > 0) {

                    $('.ibtnDel').closest("tr").remove();
                    $('.ibtnEdit').closest("tr").remove();
                    //console.log(response.data.ipDetailsList.length);
                    var incrementedCounter = 1;
                    $.each(response.data.ipDetailsList, function (i, List) {
                        //console.log(List.patentNumbers);
                        var newRow1 = $("<tr id='" + incrementedCounter + "'>");
                        var cols = "";
                        cols += '<td><input type="text" class="form-control" value=' + List.patentNumbers + ' readonly/></td>';
                        cols += '<td><input type="text" class="form-control" value=' + List.originalExpiryDate + ' readonly/></td>';
                        cols += '<td><input type="text" class="form-control" value=' + List.type + ' readonly/></td>';
                        cols += '<td><input type="text" class="form-control"  value=' + List.extensionApplication + ' readonly/></td>';
                        cols += '<td><input type="text" class="form-control"  value=' + List.extnExpiryDate + ' readonly/></td>';
                        cols += '<td><input type="text" class="form-control" value=' + List.comment + ' readonly/></td>';
                        cols += '<td><input type="text" class="form-control"  value=' + List.strategy + ' readonly/></td>';
                       
                        cols += '<td><button type="button" class="ibtnDel btn btn-sm btn-danger"><i class="far fa-trash-alt"></i></button></td>';
                        cols += '<td><button type="button" style=" background-color: orangered;border-color: orangered;" class="ibtnEdit btn btn-primary btn-sm"><i class="fas fa-edit"></i></button></td>';
                        newRow1.append(cols);
                        
                        $("table.order-list").append(newRow1);
                       
                        var temp = {
                            CounterID: incrementedCounter,
                            PatentNumbers: List.patentNumbers,
                            OriginalExpiryDate: List.originalExpiryDate,
                            Type: List.type,
                            ExtensionApplication: List.extensionApplication,
                            ExtnExpiryDate: List.extnExpiryDate,
                            Comment: List.comment,
                            Strategy: List.strategy
                        };
                        detailsArray.push(temp);                        
                        incrementedCounter++;

                    });
                   

                }
                else {
                    $('#DRFIPModel_Submit').show();
				}


				if (response.data.manufacturingList.length > 0) {

					$('#DRFManufacturingModel_ManufacturingSiteName').val(response.data.manufacturingList[0].manufacturingSiteName);
					$('#DRFManufacturingModel_Id').val(response.data.manufacturingList[0].id);
					
					$('#ManufactureSite option[value="' + response.data.manufacturingList[0].manufacturingSiteId + '"]').attr("selected", true);
					$('#DRFManufacturingModel_APISiteName').val(response.data.manufacturingList[0].apiSiteName);
					$('#APISite option[value="' + response.data.manufacturingList[0].apiId + '"]').attr("selected", true);
					$('#DRFManufacturingModel_Batchsize').val(response.data.manufacturingList[0].batchsize);
					$('#DRFManufacturingModel_Leadtime').val(response.data.manufacturingList[0].leadtime);
					$('#DRFManufacturingModel_UnitEXW').val(response.data.manufacturingList[0].unitEXW);
					$('#ArtworkType option[value="' + response.data.manufacturingList[0].artworkTypeId + '"]').attr("selected", true);
					
					$('#DRFManufacturingModel_UnitEXW').val(response.data.manufacturingList[0].unitEXW);
					$('#DRFManufacturingModel_Tentative_Artwork_Lead_Time').val(response.data.manufacturingList[0].tentative_Artwork_Lead_Time);

                    if (response.data.manufacturingList[0].packorShipper != null) {
                        $('#DRFManufacturingModel_PackorShipper').val(response.data.manufacturingList[0].packorShipper.toFixed(2));
                    }
                                        
                    if (response.data.manufacturingList[0].grossWeight != null) {
                        $('#DRFManufacturingModel_GrossWeight').val(response.data.manufacturingList[0].grossWeight.toFixed(4));
                    }
                    
                    if (response.data.manufacturingList[0].mWidth != null) {
                        $('#DRFManufacturingModel_MWidth').val(response.data.manufacturingList[0].mWidth.toFixed(2));
                    }
                    
                    if (response.data.manufacturingList[0].mHeight != null) {
                        $('#DRFManufacturingModel_MHeight').val(response.data.manufacturingList[0].mHeight.toFixed(2));
                    }
                                        
                    if (response.data.manufacturingList[0].mLength != null) {
                        $('#DRFManufacturingModel_MLength').val(response.data.manufacturingList[0].mLength.toFixed(2));
                    }
                                       

					$('#DRFManufacturingModel_Remark').val(response.data.manufacturingList[0].remark);

					//$('#DRFManufacturingModel_TentativeSchedule').attr("disabled", true);
					//$('#DRFManufacturingModel_Submit').hide();
					//$('#ManufacturingTabID').addClass('bg-success');

					//if (response.data.manufacturingAPIList.length > 0) {
					//	arrAPIId = [];
					//	arrMAPIID = [];
					//	arrAPISite = [];
					//	arrAPIName = [];
					//	var counter = 1;
					//	//var newRow = $("<tr id='" + counter + "'>");
					//	//console.log(response.data.manufacturingAPIList);
					//	$('.ibtnDel').closest("tr").remove();
					//	$('.ibtnEdit').closest("tr").remove();
					//	$.each(response.data.manufacturingAPIList, function (i, List) {
					//		var cols = '';

					//		var newRow = $("<tr id='" + counter + "'>");
					//		cols += '<td><input type="text" class="form-control" value="' + List.apiSite + '" readonly/></td>';
					//		arrAPIId.push(List.apiId);
     //                       arrMAPIID.push(List.mapiid);
     //                       cols += '<td><input type="text" class="form-control" value="' + List.apiName + '" readonly/></td>';
     //                       arrAPIName.push(List.apiName);
					//		cols += '<td><input type="text" class="form-control" value="' + List.apiSiteName + '" readonly/></td>';
					//		arrAPISite.push(List.apiSiteName);                            

					//		cols += '<td><button type="button" style=" background-color: orangered;border-color: orangered;" class="ibtnEdit btn btn-primary btn-sm"><i class="fas fa-edit"></i></button></td>';

					//		newRow.append(cols);
					//		$("table.order-listAPI").append(newRow);
					//		counter++;
					//	});
					//}


               //<--------------CODE NEW BY SONALI GORE(OLD ABOVE CODE COMMENTED )--------------------------------->
                    if (response.data.manufacturingAPIList.length > 0) {

                        $('.ibtnDelMan').closest("tr").remove();
                        $('.ibtnEditMan').closest("tr").remove();
                        var incrementedCounter = 1;

                        $.each(response.data.manufacturingAPIList, function (i, List) {


                            var newRow2 = $("<tr id='" + incrementedCounter + "'>");
                            var cols = "";

                            cols += '<td><input type="text" class="form-control" value="' + List.apiSite + '" readonly/></td>';
                            cols += '<td><input type="text" class="form-control" value="' + List.apiName + '" readonly/></td>';
                            cols += '<td><input type="text" class="form-control" value="' + List.apiSiteName + '" readonly/></td>';


                            cols += '<td><button type="button" style=" background-color: orangered;border-color: orangered;" class="ibtnEditMan btn btn-primary btn-sm"><i class="fas fa-edit"></i></button></td>';
                            cols += '<td><button type="button" class="ibtnDelMan btn btn-sm btn-danger"><i class="far fa-trash-alt"></i></button></td>';
                            newRow2.append(cols);
                            $("table.order-listAPI").append(newRow2);
                            var temp = {
                                CounterID: incrementedCounter,
                                APIId: List.apiId,
                                //MAPIID: List.mapiID,
                                SOM: List.apiSite,
                                APIName: List.apiName,
                                APISiteName: List.apiSiteName

                                //MAPIID: mapiID,



                            };

                            arrManufacturingAPISite.push(temp);                           

                            incrementedCounter++;


                        });
                        
                    }


                }
                else {
                    $('#DRFManufacturingModel_Submit').hide();
                }

                if (response.data.scmList.length > 0) {
                    $('#DRFSCMModel_FreightCost').val(response.data.scmList[0].freightCost.toFixed(2));
                    $('#DRFSCMModel_TentativeShipmente').data("DateTimePicker").date(new Date(response.data.scmList[0].tentativeShipmente.split('T')[0]));
                    $('#DRFSCMModel_TentativeDestination').data("DateTimePicker").date(new Date(response.data.scmList[0].tentativeDestination.split('T')[0]));
                    $('#DRFSCMModel_Remark').val(response.data.scmList[0].remark);
                    
                }
                else {
                    $('#DRFSCMModel_Submit').hide();
                }
                if (response.data.raList.length > 0) {

                    if (response.data.raList[0].acc == true) {
                        $('#DRFRAModel_ACC').attr("checked", true);                        
                    }
                    else {
                        // $('#DRFRAModel_ACC').attr("disabled", true);
                    }

                    if (response.data.raList[0].zoneII == true) {
                        $('#DRFRAModel_ZoneII').attr("checked", true);                        
                    }
                    else {
                        //$('#DRFRAModel_ZoneII').attr("disabled", true);
                    }

                    if (response.data.raList[0].ivbdata == true) {
                        $('#DRFRAModel_Ivbdata').attr("checked", true);                        
                    }
                    else {
                        // $('#DRFRAModel_Ivbdata').attr("disabled", true);
                    }

                    if (response.data.raList[0].protocolAvailability == true) {
                        $('#ProtocolAvailabilityYes').attr("checked", true);
                        $('#ProtocolAvailabilityNo').removeClass('radio-checked');
                    }
                    else {
                        // $('#ProtocolAvailabilityYes').attr("disabled", true);
                        // $('#ProtocolAvailabilityNo').attr("disabled", true);
                    }

                    if (response.data.raList[0].coppAvailability == true) {
                        $('#COPPAvailabilityYes').attr("checked", true);
                        $('#COPPAvailabilityNo').removeClass('radio-checked');
                    }
                    else {
                        //  $('#COPPAvailabilityYes').attr("disabled", true);
                        // $('#COPPAvailabilityNo').attr("disabled", true);
                    }

                    $('#DRFRAModel_GMPAvailabilityId option[value="' + response.data.raList[0].gmpAvailabilityId + '"]').attr("selected", true);
                    
                    if (response.data.raList[0].gmpAvailabilityId == 5) {

                        $('#DRFRAModel_GMPAvailability').val(response.data.raList[0].gmpAvailability);
                        $('#DRFRAModel_GMPAvailability').show();
                    }

                   

                    if (response.data.raList[0].mfgLicense == true) {
                        $('#MfgLicenseYes').attr("checked", true);
                        $('#MfgLicenseNo').removeClass('radio-checked');
                    }
                    else {
                        // $('#MfgLicenseYes').attr("disabled", true);
                        // $('#MfgLicenseNo').attr("disabled", true);
                    }

                    $('#DossierTemplate option[value="' + response.data.initializationDetails.dossierTemplateID + '"]').attr("selected", true);
                            //$('#DossierTemplate').attr("disabled", true);

                    if (response.data.raList[0].plantInspection == true) {
                        $('#PlantInspectionRequiredYes').attr("checked", true);
                        $('#PlantInspectionRequiredNo').removeClass('radio-checked');
                    }
                    else {
                        //$('#PlantInspectionRequiredYes').attr("disabled", true);
                        //$('#PlantInspectionRequiredNo').attr("disabled", true);
                    }

                    $('#ValidationBatches option[value="' + response.data.raList[0].validationBatches + '"]').attr("selected", true);
                   
                    if (response.data.raList[0].coaAvailability == true) {
                        $('#COAAvailabilityYes').attr("checked", true);
                        $('#COAAvailabilityNo').removeClass('radio-checked');
                    }
                    else {
                        // $('#COAAvailabilityYes').attr("disabled", true);
                        // $('#COAAvailabilityNo').attr("disabled", true);
                    }

                    if (response.data.raList[0].beAvailability == true) {
                        $('#BEAvailabililtyYes').attr("checked", true);
                        $('#BEAvailabililtyNo').removeClass('radio-checked');
                    }
                    else {
                        // $('#BEAvailabililtyYes').attr("disabled", true);
                        // $('#BEAvailabililtyNo').attr("disabled", true);
                    }

					
					if (response.data.raList[0].apidmFstatus == true) {
						$('#APIDMFstatusRequiredYes').attr("checked", true);
						$('#APIDMFstatusRequiredNo').removeClass('radio-checked');

					}
					else {
						$('#APIDMFstatusRequiredNo').attr("checked", true);
					}
                                       

                    if (response.data.raList[0].plantApproval == true) {
                        $('#PlantApprovalRequiredYes').attr("checked", true);
                        $('#PlantApprovalRequiredNo').removeClass('radio-checked');
                        $('#Onsite').removeAttr('disabled');
                        $('#Desktop').removeAttr('disabled');
                        if (response.data.raList[0].plantApprovalIfYes == "Onsite") {
                            $('#Onsite').attr("checked", true);
                        }
                        else {
                            $('#Desktop').attr("checked", true);
                        }

                    }
                    else {
                        // $('#PlantApprovalRequiredYes').attr("disabled", true);
                        //$('#PlantApprovalRequiredNo').attr("disabled", true);
                    }

                    $('#DRFRAModel_RegistrationValidity').val(response.data.raList[0].registrationValidity);
                    
                    $('#DRFRAModel_Timefordossierpreparation').val(response.data.raList[0].timefordossierpreparation);
                    

                    $('#DRFRAModel_AMV').val(response.data.raList[0].amv);
                   
                    if (response.data.raList[0].pdr == true) {
                        $('#PDRYes').attr("checked", true);
                        $('#PDRNo').removeClass('radio-checked');
                    }
                    else {
                        // $('#PDRYes').attr("disabled", true);
                        // $('#PDRNo').attr("disabled", true);
                    }

                    if (response.data.raList[0].samplesAvailability == true) {
                        $('#SamplesAvailabilityYes').attr("checked", true);
                        $('#SamplesAvailabilityNo').removeClass('radio-checked');
                    }
                    else {
                        //$('#SamplesAvailabilityYes').attr("disabled", true);
                        //$('#SamplesAvailabilityNo').attr("disabled", true);
                    }

                    if (response.data.raList[0].importPermit == true) {
                        $('#ImportPermitYes').attr("checked", true);
                        $('#ImportPermitNo').removeClass('radio-checked');
                    }
                    else {
                        // $('#ImportPermitYes').attr("disabled", true);
                        //$('#ImportPermitNo').attr("disabled", true);
                    }                                       

                    if (response.data.raList[0].brandNameApproval == 'Yes') {
                        $('#BrandNameApprovalYes').attr("checked", true);
                        $('#BrandNameApprovalNo').removeClass('radio-checked');
                    }
                    else if (response.data.raList[0].brandNameApproval == 'No') {
                        //$('#BrandNameApprovalYes').attr("disabled", true);
                        // $('#BrandNameApprovalNo').attr("disabled", true);
                        // $('#BrandNameApprovalNotApplicable').attr("disabled", true);
                    }
                    else {
                        $('#BrandNameApprovalNotApplicable').attr("checked", true);
                        $('#BrandNameApprovalNo').removeClass('radio-checked');
                    }


                    if (response.data.raList[0].availabilityofCDA == true) {
                        $('#AvailabilityOfCDAYes').attr("checked", true);
                        $('#AvailabilityOfCDANo').removeClass('radio-checked');
                    }
                    else {
                        // $('#AvailabilityOfCDAYes').attr("disabled", true);
                        // $('#AvailabilityOfCDANo').attr("disabled", true);
                    }


                    $('#DRFRAModel_CurrencyID option[value="' + response.data.raList[0].currencyID + '"]').attr("selected", true);
                    
                    $('#DRFRAModel_ProductRegistrationFee').val(response.data.raList[0].productRegistrationFee.toFixed(2));
                    
                    $('#DRFRAModel_ComparativeDissolutionProfileData').val(response.data.raList[0].comparativeDissolutionProfileData);                   

                    $('#DRFRAModel_Remarks').val(response.data.raList[0].remarks);
					$('#DRFRAModel_ConsultantCost').val(response.data.raList[0].consultantCost.toFixed(2));
					$('#DRFRAModel_LegalizationCost').val(response.data.raList[0].legalizationCost.toFixed(2));
					$('#DRFRAModel_TranslationCost').val(response.data.raList[0].translationCost.toFixed(2));
					$('#DRFRAModel_OtherCost').val(response.data.raList[0].otherCost.toFixed(2));
                   

                }
                else {
                    $('#DRFRAModel_Submit').hide();
                }

                if (response.data.medicalList.length > 0) {

                    $('#Remark1').val(response.data.medicalList[0].remark1);
                   
                    $('#Remark2').val(response.data.medicalList[0].remark2);
                    
                    $('#Remark3').val(response.data.medicalList[0].remark3);
                   
                    if (response.data.medicalList[0].beCtVitroAvailable == true) {
                        $('#BeCtVitroAvailableYes').attr("checked", true);
                        $('#BeCtVitroAvailableNo').removeClass('radio-checked');
						$('#DRFMedicalModel_BECost').val(response.data.medicalList[0].beCost.toFixed(2));                        
                    }
                   
                    if (response.data.medicalList[0].bioWaiver == true) {
                        $('#BioWaiverYes').attr("checked", true);                       
                        $('#BioWaiverNo').removeClass('radio-checked');
						$('#DRFMedicalModel_BioCost').val(response.data.medicalList[0].bioCost.toFixed(2));						
                    }
            
                    if (response.data.medicalList[0].ctWaiver == true) {
                        $('#CTWaiverYes').attr("checked", true);                       
                        $('#CTWaiverNo').removeClass('radio-checked');
						$('#DRFMedicalModel_CTCost').val(response.data.medicalList[0].ctCost.toFixed(2));						
                    }     

                }
                else {
                    $('#DRFMedicalModel_Submit').hide();
                }

                //finance
                
                if (response.data.financeDetails != null) {
                    //if (response.data.financeDetails.count > 0) {

                    if (response.data.financeDetails.overallbusinesscase == true) {                        
                        $('#IsOverallBusinessCaseFineYes').attr("checked", true);
                        $('#IsOverallBusinessCaseFineNo').removeClass('radio-checked');
                    }
                    else {
                        //$('#DRFFinanceApproval_IsOverallBusinessCaseFine').text("No");
                        //$('#IsOverallBusinessCaseFineNo').attr("checked", true);
                    }

                    $('#DRFFinanceApproval_GCMinimum').val(response.data.financeDetails.gCminimum.toFixed(2));
                    $('#DRFFinanceApproval_GCMinimumYearTwo').val(response.data.financeDetails.gCminimumYearTwo.toFixed(2));
                    $('#DRFFinanceApproval_GCMinimumYearThree').val(response.data.financeDetails.gCminimumYearThree.toFixed(2));

                    $('#DRFFinanceApproval_Exworks').val(response.data.financeDetails.exworks.toFixed(2));
                    $('#DRFFinanceApproval_ExworksYearTwo').val(response.data.financeDetails.exworksYearTwo.toFixed(2));
                    $('#DRFFinanceApproval_ExworksYearThree').val(response.data.financeDetails.exworksYearThree.toFixed(2));

                    $('#DRFFinanceApproval_Freight').val(response.data.financeDetails.freight.toFixed(2));
                    $('#DRFFinanceApproval_FreightYearTwo').val(response.data.financeDetails.freightYearTwo.toFixed(2));
                    $('#DRFFinanceApproval_FreightYearThree').val(response.data.financeDetails.freightYearThree.toFixed(2));

					$('#DRFFinanceApproval_Expenses').val(response.data.financeDetails.expenses.toFixed(2));
                    
					$('#DRFFinanceApproval_LitigationCost').val(response.data.financeDetails.litigationCost.toFixed(2));
					$('#DRFFinanceApproval_FreightCost').val(response.data.financeDetails.freightCost.toFixed(2));
					$('#DRFFinanceApproval_RegistrationCost').val(response.data.financeDetails.registrationCost.toFixed(2));
					$('#DRFFinanceApproval_ConsultantCost').val(response.data.financeDetails.consultantCost.toFixed(2));
					$('#DRFFinanceApproval_LegalizationCost').val(response.data.financeDetails.legalizationCost.toFixed(2));
					$('#DRFFinanceApproval_TranslationCost').val(response.data.financeDetails.translationCost.toFixed(2));
					$('#DRFFinanceApproval_OtherCost').val(response.data.financeDetails.otherCost.toFixed(2));
					$('#DRFFinanceApproval_BECost').val(response.data.financeDetails.beCost.toFixed(2));
					$('#DRFFinanceApproval_BioCost').val(response.data.financeDetails.bioCost.toFixed(2));
					$('#DRFFinanceApproval_CTCost').val(response.data.financeDetails.ctCost.toFixed(2));

                    $('#DRFFinanceApproval_FilingCost').val(response.data.financeDetails.filingCost.toFixed(2));
                    $('#DRFFinanceApproval_TotalContribution').val(response.data.financeDetails.totalContribution.toFixed(2));
                    $('#DRFFinanceApproval_NetContribution').val(response.data.financeDetails.netContribution.toFixed(2));


                    $('#DRFFinanceModel_TotalGCMinimum').text(response.data.financeDetails.totalContribution.toFixed(2));

                    var totalExworks = (response.data.financeDetails.exworks + response.data.financeDetails.exworksYearTwo + response.data.financeDetails.exworksYearThree).toFixed(2);
                    $('#DRFFinanceModel_TotalExworks').empty().text(totalExworks);

                    var totalFreight = (response.data.financeDetails.freight + response.data.financeDetails.freightYearTwo + response.data.financeDetails.freightYearThree).toFixed(2);
                    $('#DRFFinanceModel_TotalFreight').empty().text(totalFreight);

                    var autoExworks = ((response.data.financeDetails.exworks * response.data.initializationDetails.firstYearForecastUnitsPacks) / 100).toFixed(2);
                    $('#AutoExworks').val(autoExworks);

                    var autoFreight = ((response.data.financeDetails.freight * response.data.initializationDetails.firstYearForecastUnitsPacks) / 100).toFixed(2);
                    $('#AutoFreight').val(autoFreight);

                    if (currentRole == "Prescriber" || currentRole == "Finance Manager") {
                        $('#DRFFinanceApproval_Submit').show();
                    }
                    else {
                        $('#DRFFinanceApproval_Submit').hide();
                    }
                                      
                }
                else {                    
                    if (currentRole == "Prescriber" || currentRole == "Finance Manager") {
                        $('#DRFFinanceApproval_Submit').show();
                    }
                    else {
                        $('#DRFFinanceApproval_Submit').hide();
                    }
                    //$('#DRFFinanceApproval_Submit').hide();
                }


                getPIDFList();
            },
            failure: function () {

            }
        });


        var dataTable = $('#PIDFTable').DataTable({
		    responsive: false,
		    lengthChange: false,
		    autoWidth: false,
            paging: false,
            searching: false,
            sort: false,
            "bInfo": false,
            columnDefs: [
                { responsivePriority: 1, targets: -5 },
                { responsivePriority: 1, targets: -3 },
                { responsivePriority: 100, targets: -4 }
            ],

            language: {
                "emptyTable": "@SharedLocalizer["No data available in table"].Value",
                "info": "@SharedLocalizer["Showing _START_ to _END_ of _TOTAL_ entries"].Value",
                "infoEmpty":"@SharedLocalizer["Showing 0 to 0 of 0 entries"].Value",
                "infoFiltered":"@SharedLocalizer["(filtered from _MAX_ total entries)"].Value",
                "lengthMenu":"@SharedLocalizer["Show _MENU_ entries"].Value",
                "loadingRecords": "@SharedLocalizer["Loading..."].Value",
                "processing": "@SharedLocalizer["Processing..."].Value",
                "search": "@SharedLocalizer["Search"].Value",
                "zeroRecords":"@SharedLocalizer["No matching records found"].Value",
                "paginate": {
                "first":"@SharedLocalizer["First"].Value",
                "last":"@SharedLocalizer["Last"].Value",
                "next": "@SharedLocalizer["Next"].Value",
                "previous":"@SharedLocalizer["Previous"].Value"
                },
            }
        });

        getPIDFList = function () {
            //$('#loaderContainer').show();
            var data = {"DRFID":PIDFInitializationID, "CountryID":PIDFCountryID};

            $.ajax({
                type: "POST",
                url: '@Url.Action("AttachedPIDFDetails", "DRFInitialization")/',
                //contentType: "application/json; charset=utf-8",
                dataType: "json",
                data:data,
                success: function (response) {
                    $('#loading').hide();
                    var jsonObject = response.data;

                    var result = jsonObject.map(function (item) {
                        var result = [];

                        result.push(item.pidfNo);
                        result.push(item.projectorProductName);
                        result.push(item.strengths);
                        result.push(item.patentStatus);
                        result.push(item.continentName);
                        result.push(item.countryName);
                        result.push(item.packing);
                        result.push(item.batchSize);
                        result.push(item.packSize);
                        result.push(item.cogs);
                        result.push(item.freight);
                        result.push(item.totalCIFCost);
                        result.push(item.cifPricePerUnit);
                        result.push(item.cifPricePerPack);
                        result.push(item.profitPerPack);
                        result.push(item.percentCont);
                        result.push(item.contributionThreeYear);
                        result.push(item.costofThreeBatches);
                        result.push(item.randDCost);
                        result.push(item.filingCost);
                        result.push(item.stabilityCost);
                        result.push(item.totalInvest);
                        result.push(item.roi);
                        //result.push(item.PidfStatus);
                        return result;
                    });
                    dataTable.clear();
                    dataTable.rows.add(result); // add to DataTable instance
                    dataTable.draw();
                },
                failure: function () {
                    $("#PIDFTable").append('@SharedLocalizer["Error when fetching data please contact administrator"].Value');
                }
            });
        }

    });

    $(function () {

        $('#DRFManufacturingModel_TentativeSchedule').datetimepicker({
            format: 'DD-MM-YYYY',
            minDate: new Date()
        });

        $('#MANTentativeSchedule .fa-calendar').click(function () {
            $("#DRFManufacturingModel_TentativeSchedule").focus();
        });


        $('#DRFSCMModel_TentativeDestination').datetimepicker({
            format: 'DD-MM-YYYY',
            minDate: new Date()
        });

        $('#SCMTentativeDestination .fa-calendar').click(function () {
            $("#DRFSCMModel_TentativeDestination").focus();
        });

        $('#DRFSCMModel_TentativeShipmente').datetimepicker({
            format: 'DD-MM-YYYY',
            minDate: new Date()
        });

        $('#SCMTentativeShipmente .fa-calendar').click(function () {
            $("#DRFSCMModel_TentativeShipmente").focus();
        });



    });

    function SubmitDRFSCMForm(form) {

        $('#DRFSCMModel_InitializationID').val(@ViewBag.UpdateInitializationID);
        var url = "/DRFInitialization/Index";
        $.validator.unobtrusive.parse(form);
        if ($(form).valid()) {
            $('#loading').show();
            $.ajax({
                type : "POST",
                url : '@Url.Action("UpdateDRFSCMDetails", "DRFInitialization")/',
                data : $(form).serialize(),
                success: function (result) {
                    //console.log(result);
                    $('#loading').hide();
                    if (result.data === "success") {
                        openCommonModal('successModal modal-sm', '@Html.Raw(SharedLocalizer["Success"].Value)', '@Html.Raw(SharedLocalizer["Supply Chain Management data updated successfully."].Value)', true);
                        setTimeout(function () { location.href = url; }, 2000);                       
                    }
                    else {
                        openCommonModal('alertModal modal-sm', '@SharedLocalizer["Error"].Value', result.message, false);
                    }
                }
            });
        }
        return false;
    }

    function SubmitDRFManufacturingForm(form) {

		$('#DRFManufacturingModel_InitializationID').val(@ViewBag.UpdateInitializationID);
        $('#DRFManufacturingModel_ManufacturingAPISiteList').val(JSON.stringify(arrManufacturingAPISite));        
        var url = "/DRFInitialization/Index";
        $.validator.unobtrusive.parse(form);
        if ($(form).valid()) {
            $('#loading').show();
            $.ajax({
                type : "POST",
                url : '@Url.Action("UpdateDRFManufacturingDetails", "DRFInitialization")/',
                data : $(form).serialize(),
                success: function (result) {                    
                        $('#loading').hide();
                    if (result.data === "success") {
                        openCommonModal('successModal modal-sm', '@Html.Raw(SharedLocalizer["Success"].Value)', '@Html.Raw(SharedLocalizer["Manufacturing data updated successfully."].Value)', true);
                        setTimeout(function () { location.href = url; }, 2000);                       
                    }
                    else {
                        openCommonModal('alertModal modal-sm', '@SharedLocalizer["Error"].Value', result.message, false);
                    }
                }
            });
        }
        return false;
    }


    function SubmitDRFRAForm(form) {

        $('#DRFRAModel_InitializationID').val(@ViewBag.UpdateInitializationID);
        var url = "/DRFInitialization/Index";
        $.validator.unobtrusive.parse(form);
        if ($(form).valid()) {
            $('#loading').show();
            $.ajax({
                type : "POST",
                url : '@Url.Action("UpdateDRFRADetails", "DRFInitialization")/',
                data : $(form).serialize(),
                success: function (result) {                    
                        $('#loading').hide();
                    if (result.data === "success") {
                        openCommonModal('successModal modal-sm', '@Html.Raw(SharedLocalizer["Success"].Value)', '@Html.Raw(SharedLocalizer["Regulatory data updated successfully."].Value)', true);
                        setTimeout(function () { location.href = url; }, 2000);                       
                    }
                    else {
                        openCommonModal('alertModal modal-sm', '@SharedLocalizer["Error"].Value', result.message, false);
                    }
                }
            });
        }
        return false;
    }

    function SubmitIPForm(form) {
        $('#DRFIPModel_InitializationID').val(@ViewBag.UpdateInitializationID);        
        
        $('#DRFIPModel_DRFIPModelDetailsList').val(JSON.stringify(detailsArray));
        
        var url = "/DRFInitialization/Index";
        $.validator.unobtrusive.parse(form);
        if ($(form).valid()) {
            $('#loading').show();
            $.ajax({
                type : "POST",
                url : '@Url.Action("UpdateDRFIPDetails", "DRFInitialization")/',
                data : $(form).serialize(),
                success: function (result) {                    
                        $('#loading').hide();
                    if (result.data === "success") {
                        openCommonModal('successModal modal-sm', '@Html.Raw(SharedLocalizer["Success"].Value)', '@Html.Raw(SharedLocalizer["IP data updated successfully."].Value)', true);
                        setTimeout(function () { location.href = url; }, 2000);                       
                    }
                    else {
                        openCommonModal('alertModal modal-sm', '@SharedLocalizer["Error"].Value', result.message, false);
                    }
                }
            });
        }
        return false;
    }

    function SubmitDRFMedicalForm(form)
    {

        $('#DRFMedicalModel_InitializationID').val(@ViewBag.UpdateInitializationID);
		var url = "/DRFInitialization/Index";
        //Following code commented by Yogesh B on date 22/09/2021 as told by Rahul Patil
		//if ($('[id="BeCtVitroAvailableYes"]:checked').val() === 'True' && ($('#DRFMedicalModel_BECost').val() == '' || $('#DRFMedicalModel_BECost').val() == null || $('#DRFMedicalModel_BECost').val() == undefined || $('#DRFMedicalModel_BECost').val() == '0.00')) {
		//	$('#DRFMedicalModel_BECost_Error').text('The BECost field is required');
		//	return false;
		//}
		//if ($('[id="BioWaiverYes"]:checked').val() === 'True' && ($('#DRFMedicalModel_BioCost').val() == '' || $('#DRFMedicalModel_BioCost').val() == null || $('#DRFMedicalModel_BioCost').val() == undefined || $('#DRFMedicalModel_BioCost').val() == '0.00')) {
		//	$('#DRFMedicalModel_BioCost_Error').text('The BioCost field is required');
		//	return false;
		//}
		//if ($('[id="CTWaiverYes"]:checked').val() === 'True' && ($('#DRFMedicalModel_CTCost').val() == '' || $('#DRFMedicalModel_CTCost').val() == null || $('#DRFMedicalModel_CTCost').val() == undefined || $('#DRFMedicalModel_CTCost').val() == '0.00')) {
		//	$('#DRFMedicalModel_CTCost_Error').text('The CTCost field is required');
		//	return false;
		//}
        $.validator.unobtrusive.parse(form);
        if ($(form).valid()) {
            $('#loading').show();
            $.ajax({
                type : "POST",
                url : '@Url.Action("UpdateDRFMedicalDetails", "DRFInitialization")/',
                data : $(form).serialize(),
                success: function (result) {                    
                    $('#loading').hide();
                    if (result.data === "success") {
                        openCommonModal('successModal modal-sm', '@Html.Raw(SharedLocalizer["Success"].Value)', '@Html.Raw(SharedLocalizer["Medical data updated successfully."].Value)', true);
                        setTimeout(function () { location.href = url; }, 2000);                        
                    }
                    else {
                        openCommonModal('alertModal modal-sm', '@SharedLocalizer["Error"].Value', result.message, false);
                    }
                }
            });
        }
        return false;
    }

    function SubmitFinanceApprovalForm(form) {

        $('#DRFFinanceApproval_InitializationID').val(@ViewBag.UpdateInitializationID);
        var url = "/DRFInitialization/Index";
        $.validator.unobtrusive.parse(form);
        if ($(form).valid()) {
            $('#loading').show();
            $.ajax({
                type : "POST",
                url : '@Url.Action("UpdateDRFFinanceApproval", "DRFInitialization")/',
                data : $(form).serialize(),
                success: function (result) {                    
                    $('#loading').hide();
                    if (result.data === "success") {
                        openCommonModal('successModal modal-sm', '@Html.Raw(SharedLocalizer["Success"].Value)', '@Html.Raw(SharedLocalizer["Finance data updated successfully."].Value)', true);
                        setTimeout(function () { location.href = url; }, 2000);                        
                    }
                    else {
                        openCommonModal('alertModal modal-sm', '@SharedLocalizer["Error"].Value', result.message, false);
                    }
                }
            });
        }
        return false;
    }

    //IP
    $("#addrow").on("click", function () {
        var isValid = true;

        if ($('#PatentNumbers').val() == null || $('#PatentNumbers').val() == "" || $('#PatentNumbers').val() == undefined) {
            isValid = false;
            $('#IPD_PatentNumbers_Error').empty().append("The 'PatentNumbers' field is required.");
        }
        else {
            $('#IPD_PatentNumbers_Error').empty();
        }
        if ($('#OriginalExpiryDate').val() == null || $('#OriginalExpiryDate').val() == "" || $('#OriginalExpiryDate').val() == undefined) {
            isValid = false;
            $('#IPD_OriginalExpiryDate_Error').empty().append("The 'OriginalExpiryDate' field is required.");
        }
        else {
            $('#IPD_OriginalExpiryDate_Error').empty();
        }
        if ($('#Type').val() == null || $('#Type').val() == "" || $('#Type').val() == undefined) {
            isValid = false;
            $('#IPD_Type_Error').empty().append("The 'Type' field is required.");
        }
        else {
            $('#IPD_Type_Error').empty();
        }
        if ($('#ExtensionApplication').val() == null || $('#ExtensionApplication').val() == "" || $('#ExtensionApplication').val() == undefined) {
            isValid = false;
            $('#IPD_ExtensionApplication_Error').empty().append("The 'ExtensionApplication' field is required.");
        }
        else {
            $('#IPD_ExtensionApplication_Error').empty();
        }

        if ($('#ExtnExpiryDate').val() == null || $('#ExtnExpiryDate').val() == "" || $('#ExtnExpiryDate').val() == undefined) {
            isValid = false;
            $('#IPD_ExtnExpiryDate_Error').empty().append("The 'ExtnExpiryDate' field is required.");
        }
        else {
            $('#IPD_ExtnExpiryDate_Error').empty();
        }

        if ($('#Comment').val() == null || $('#Comment').val() == "" || $('#Comment').val() == undefined) {
            isValid = false;
            $('#IPD_Comment_Error').empty().append("The 'Comment' field is required.");
        }
        else {
            $('#IPD_Comment_Error').empty();
        }

        if ($('#Strategy').val() == null || $('#Strategy').val() == "" || $('#Strategy').val() == undefined) {
            isValid = false;
            $('#IPD_Strategy_Error').empty().append("The 'Strategy' field is required.");
        }
        else {
            $('#IPD_Strategy_Error').empty();
        }

        if (isValid) {


            //  console.log($('#PatentNumbers').val());

            var tempPatentNumbers = $('#PatentNumbers').val();
            var tempOriginalExpiryDate = $('#OriginalExpiryDate').val();
            var tempType = $('#Type').val();
            var tempExtensionApplication = $('#ExtensionApplication').val();
            var tempExtnExpiryDate = $('#ExtnExpiryDate').val();
            var tempComment = $('#Comment').val();
            var tempStrategy = $('#Strategy').val();
            
            var newRow = $("<tr id='" + IPcounter + "'>");
            var cols = "";

            cols += '<td><input type="text" class="form-control" value="' + tempPatentNumbers + '" readonly/></td>';
            cols += '<td><input type="text" class="form-control" value="' + tempOriginalExpiryDate + '" readonly/></td>';
            cols += '<td><input type="text" class="form-control" value="' + tempType + '" readonly/></td>';
            cols += '<td><input type="text" class="form-control"  value="' + tempExtensionApplication + '" readonly/></td>';
            cols += '<td><input type="text" class="form-control"  value="' + tempExtnExpiryDate + '" readonly/></td>';
            cols += '<td><input type="text" class="form-control" value="' + tempComment + '" readonly/></td>';
            cols += '<td><input type="text" class="form-control"  value="' + tempStrategy + '" readonly/></td>';

            cols += '<td><button type="button" class="ibtnDel btn btn-sm btn-danger"><i class="far fa-trash-alt"></i></button></td>';
            newRow.append(cols);
            //console.log('test');
            $("table.order-list").append(newRow);


            var temp = {
                //CounterID: counter,
                CounterID: IPcounter,
                PatentNumbers: tempPatentNumbers,
                OriginalExpiryDate: tempOriginalExpiryDate,
                Type: tempType,
                ExtensionApplication: tempExtensionApplication,
                ExtnExpiryDate: tempExtnExpiryDate,
                Comment: tempComment,
                Strategy: tempStrategy
            };
            detailsArray.push(temp);
            IPID = 0;
            //console.log(detailsArray);

            //counter++;
            IPcounter++;
            clearRow();
            $('.datetimepicker').datetimepicker({
                format: 'DD-MM-YYYY',
                minDate: new Date()
            });
        }


    });

    function clearRow() {
        $('#PatentNumbers').val("");
        $('#OriginalExpiryDate').val("");
        $('#Type').val("");
        $('#ExtensionApplication').val("");
        $('#ExtnExpiryDate').val("");
        $('#Comment').val("");
        $('#Strategy').val("");
    }
    

    //End ip


    $('#DRFFinanceApproval_GCMinimum').change(function () {

        var GCMinimum = parseFloat($('#DRFFinanceApproval_GCMinimum').val()||0);
        var GCMinimumYearTwo = parseFloat($('#DRFFinanceApproval_GCMinimumYearTwo').val()||0);
        var GCMinimumYearThree =parseFloat( $('#DRFFinanceApproval_GCMinimumYearThree').val()||0);

        var totalGCMinimum = (GCMinimum + GCMinimumYearTwo +GCMinimumYearThree).toFixed(2);
        $('#DRFFinanceModel_TotalGCMinimum').empty().text(totalGCMinimum);

        $('#DRFFinanceApproval_TotalContribution').val(totalGCMinimum);

        var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val()||0);
        var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);
        
		CalculatenetContribution();

     });

    $('#DRFFinanceApproval_GCMinimumYearTwo').change(function () {

        var GCMinimum = parseFloat($('#DRFFinanceApproval_GCMinimum').val()||0);
        var GCMinimumYearTwo = parseFloat($('#DRFFinanceApproval_GCMinimumYearTwo').val()||0);
        var GCMinimumYearThree =parseFloat( $('#DRFFinanceApproval_GCMinimumYearThree').val()||0);

        var totalGCMinimum = (GCMinimum + GCMinimumYearTwo +GCMinimumYearThree).toFixed(2);
        $('#DRFFinanceModel_TotalGCMinimum').empty().text(totalGCMinimum);


        $('#DRFFinanceApproval_TotalContribution').val(totalGCMinimum);

        var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val()||0);
        var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);        
		CalculatenetContribution();

    });

    $('#DRFFinanceApproval_GCMinimumYearThree').change(function () {

        var GCMinimum = parseFloat($('#DRFFinanceApproval_GCMinimum').val()||0);
        var GCMinimumYearTwo = parseFloat($('#DRFFinanceApproval_GCMinimumYearTwo').val()||0);
        var GCMinimumYearThree =parseFloat( $('#DRFFinanceApproval_GCMinimumYearThree').val()||0);

        var totalGCMinimum = (GCMinimum + GCMinimumYearTwo +GCMinimumYearThree).toFixed(2);
        $('#DRFFinanceModel_TotalGCMinimum').empty().text(totalGCMinimum);


        $('#DRFFinanceApproval_TotalContribution').val(totalGCMinimum);

        var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val()||0);
        var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);        
		CalculatenetContribution();

    });

    $("#AutoExworks").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
            $(this).val(0.00);
        }
        $("#AutoExworks").val(Number.parseFloat($("#AutoExworks").val()).toFixed(2));
	});

    $('#AutoExworks').change(function () {
        if ($(this).val() == "") {
            $(this).val(0.00);
        }
        var setExworks = parseFloat($(this).val()).toFixed(2);

        var firstExworks = parseFloat(setExworks * $('#DRFInitializationFinance_FirstYearForecastUnitsPacks').text()).toFixed(2);
        var secondExworks = parseFloat(setExworks * $('#DRFInitializationFinance_SecondYearForecastUnitsPacks').text()).toFixed(2);
        var thirdExworks = parseFloat(setExworks * $('#DRFInitializationFinance_ThirdYearForecastUnitsPacks').text()).toFixed(2);
        $('#DRFFinanceApproval_Exworks').val(firstExworks );
        $('#DRFFinanceApproval_ExworksYearTwo').val(secondExworks);
        $('#DRFFinanceApproval_ExworksYearThree').val(thirdExworks);

        var Exworks = parseFloat($('#DRFFinanceApproval_Exworks').val()||0);
        var ExworksYearTwo = parseFloat($('#DRFFinanceApproval_ExworksYearTwo').val()||0);
        var ExworksYearThree =parseFloat( $('#DRFFinanceApproval_ExworksYearThree').val()||0);

        var totalExworks = (Exworks+ExworksYearTwo+ExworksYearThree).toFixed(2);
        $('#DRFFinanceModel_TotalExworks').empty().text(totalExworks);


        //set freight value
        var setFreight = parseFloat($('#AutoFreight').val()||0).toFixed(2);
        var firstYearFreight = parseFloat(setFreight * $('#DRFInitializationFinance_FirstYearForecastUnitsPacks').text()).toFixed(2);
        var secondYearFreight = parseFloat(setFreight * $('#DRFInitializationFinance_SecondYearForecastUnitsPacks').text()).toFixed(2);
        var thirdYearFreight = parseFloat(setFreight * $('#DRFInitializationFinance_ThirdYearForecastUnitsPacks').text()).toFixed(2);
        $('#AutoFreight').val(setFreight);
        $('#DRFFinanceApproval_Freight').val(firstYearFreight);
        $('#DRFFinanceApproval_FreightYearTwo').val(secondYearFreight);
        $('#DRFFinanceApproval_FreightYearThree').val(thirdYearFreight);

        var ForecastValue = parseFloat($('#DRFInitializationFinance_FirstYearForecastValue').text() || 0).toFixed(2);
        var CalculateForGcValue = (parseFloat(firstExworks) + parseFloat(firstYearFreight)).toFixed(2);
        var GCValue = parseFloat(ForecastValue - CalculateForGcValue);
        $('#DRFFinanceApproval_GCMinimum').val(GCValue.toFixed(2));

        var ForecastValue2 = parseFloat($('#DRFInitializationFinance_SecondYearForecastValue').text()|| 0).toFixed(2);
        var CalculateForGcValueYearTwo = (parseFloat(secondExworks) + parseFloat(secondYearFreight)).toFixed(2);
        var GCValue2 = parseFloat(ForecastValue2 - CalculateForGcValueYearTwo);
        $('#DRFFinanceApproval_GCMinimumYearTwo').val(GCValue2.toFixed(2));

        var ForecastValue3 = parseFloat($('#DRFInitializationFinance_ThirdYearForecastValue').text() || 0).toFixed(2);
        var CalculateForGcValueYearThree = (parseFloat(thirdExworks) + parseFloat(thirdYearFreight)).toFixed(2);
        var GCValue3 = parseFloat(ForecastValue3 - CalculateForGcValueYearThree);
        $('#DRFFinanceApproval_GCMinimumYearThree').val(GCValue3.toFixed(2));

        var GCMinimum = parseFloat($('#DRFFinanceApproval_GCMinimum').val()||0);
        var GCMinimumYearTwo = parseFloat($('#DRFFinanceApproval_GCMinimumYearTwo').val()||0);
        var GCMinimumYearThree =parseFloat( $('#DRFFinanceApproval_GCMinimumYearThree').val()||0);

        var totalGCMinimum = (GCMinimum + GCMinimumYearTwo +GCMinimumYearThree).toFixed(2);
        $('#DRFFinanceModel_TotalGCMinimum').empty().text(totalGCMinimum);


        $('#DRFFinanceApproval_TotalContribution').val(totalGCMinimum);        

        var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val()||0);
        var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);
        
		CalculatenetContribution();
    });

    $('#AutoExworks').on('keypress', function () {
        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57 ) ) {
            return false;
        }
        return true;
     });

    $('#DRFFinanceApproval_Expenses').change(function () {
        if ($(this).val() == "") {
            $(this).val(0.00);
        }
        var setexpenses = parseFloat($(this).val()).toFixed(2);
        $('#DRFFinanceApproval_Expenses').val(setexpenses);

        $('#DRFFinanceApproval_FilingCost').val(setDefaultValue.toFixed(2));
        var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val()||0);
        var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);        
		CalculatenetContribution();

    });

    $('#DRFFinanceApproval_FilingCost').change(function () {
        if ($(this).val() == "") {
            $(this).val(0.00);
        }
        var setfilingCost = parseFloat($(this).val()).toFixed(2);
        $('#DRFFinanceApproval_FilingCost').val(setfilingCost);

        var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val()||0);
        var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);        
		CalculatenetContribution();
    });

    $("#AutoFreight").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
            $(this).val(0.00);
        }
        $("#AutoFreight").val(Number.parseFloat($("#AutoFreight").val()).toFixed(2));
	});

    $('#AutoFreight').on('keypress', function () {
        var charCode = window.event.keyCode;
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57 ) ) {
            return false;
        }
        return true;
    });

    $('#AutoFreight').change(function () {
        if ($(this).val() == "") {
            $(this).val(0.00);
        }
        var setFreight = parseFloat($(this).val()).toFixed(2);
        var firstYearFreight = parseFloat(setFreight * $('#DRFInitializationFinance_FirstYearForecastUnitsPacks').text()).toFixed(2);
        var secondYearFreight = parseFloat(setFreight * $('#DRFInitializationFinance_SecondYearForecastUnitsPacks').text()).toFixed(2);
        var thirdYearFreight = parseFloat(setFreight * $('#DRFInitializationFinance_ThirdYearForecastUnitsPacks').text()).toFixed(2);
        $('#DRFFinanceApproval_Freight').val(firstYearFreight);
        $('#DRFFinanceApproval_FreightYearTwo').val(secondYearFreight);
        $('#DRFFinanceApproval_FreightYearThree').val(thirdYearFreight);

        var Freight = parseFloat($('#DRFFinanceApproval_Freight').val()||0);
        var FreightYearTwo = parseFloat($('#DRFFinanceApproval_FreightYearTwo').val()||0);
        var FreightThree =parseFloat( $('#DRFFinanceApproval_FreightYearThree').val()||0);

        var totalFreight = (Freight+FreightYearTwo+FreightThree).toFixed(2);
        $('#DRFFinanceModel_TotalFreight').empty().text(totalFreight);

        var setExworks = parseFloat($('#AutoExworks').val()||0).toFixed(2);

        var firstExworks = parseFloat(setExworks * $('#DRFInitializationFinance_FirstYearForecastUnitsPacks').text()).toFixed(2);
        var secondExworks = parseFloat(setExworks * $('#DRFInitializationFinance_SecondYearForecastUnitsPacks').text()).toFixed(2);
        var thirdExworks = parseFloat(setExworks * $('#DRFInitializationFinance_ThirdYearForecastUnitsPacks').text()).toFixed(2);
        $('#DRFFinanceApproval_Exworks').val(firstExworks );
        $('#DRFFinanceApproval_ExworksYearTwo').val(secondExworks);
        $('#DRFFinanceApproval_ExworksYearThree').val(thirdExworks);

        var Exworks = parseFloat($('#DRFFinanceApproval_Exworks').val()||0);
        var ExworksYearTwo = parseFloat($('#DRFFinanceApproval_ExworksYearTwo').val()||0);
        var ExworksYearThree =parseFloat( $('#DRFFinanceApproval_ExworksYearThree').val()||0);

        var totalExworks = (Exworks+ExworksYearTwo+ExworksYearThree).toFixed(2);
        $('#DRFFinanceModel_TotalExworks').empty().text(totalExworks);

        var ForecastValue = parseFloat($('#DRFInitializationFinance_FirstYearForecastValue').text() || 0).toFixed(2);
        var CalculateForGcValue = (parseFloat(firstExworks) + parseFloat(firstYearFreight)).toFixed(2);
        var GCValue = parseFloat(ForecastValue - CalculateForGcValue);
        $('#DRFFinanceApproval_GCMinimum').val(GCValue.toFixed(2));

        var ForecastValue2 = parseFloat($('#DRFInitializationFinance_SecondYearForecastValue').text()|| 0).toFixed(2);
        var CalculateForGcValueYearTwo = (parseFloat(secondExworks) + parseFloat(secondYearFreight)).toFixed(2);
        var GCValue2 = parseFloat(ForecastValue2 - CalculateForGcValueYearTwo);
        $('#DRFFinanceApproval_GCMinimumYearTwo').val(GCValue2.toFixed(2));

        var ForecastValue3 = parseFloat($('#DRFInitializationFinance_ThirdYearForecastValue').text() || 0).toFixed(2);
        var CalculateForGcValueYearThree = (parseFloat(thirdExworks) + parseFloat(thirdYearFreight)).toFixed(2);
        var GCValue3 = parseFloat(ForecastValue3 - CalculateForGcValueYearThree);
        $('#DRFFinanceApproval_GCMinimumYearThree').val(GCValue3.toFixed(2));

        var GCMinimum = parseFloat($('#DRFFinanceApproval_GCMinimum').val()||0);
        var GCMinimumYearTwo = parseFloat($('#DRFFinanceApproval_GCMinimumYearTwo').val()||0);
        var GCMinimumYearThree =parseFloat( $('#DRFFinanceApproval_GCMinimumYearThree').val()||0);

        var totalGCMinimum = (GCMinimum + GCMinimumYearTwo +GCMinimumYearThree).toFixed(2);
        $('#DRFFinanceModel_TotalGCMinimum').empty().text(totalGCMinimum);

        $('#DRFFinanceApproval_TotalContribution').val(totalGCMinimum);       

        var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val()||0);
        var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);        
		CalculatenetContribution();
    });

	$("#DRFFinanceApproval_LitigationCost").focusout(function () {
		if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
		}
		$("#DRFFinanceApproval_LitigationCost").val(Number.parseFloat($("#DRFFinanceApproval_LitigationCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_FreightCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_FreightCost").val(Number.parseFloat($("#DRFFinanceApproval_FreightCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_RegistrationCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_RegistrationCost").val(Number.parseFloat($("#DRFFinanceApproval_RegistrationCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_ConsultantCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_ConsultantCost").val(Number.parseFloat($("#DRFFinanceApproval_ConsultantCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_LegalizationCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_LegalizationCost").val(Number.parseFloat($("#DRFFinanceApproval_LegalizationCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_TranslationCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_TranslationCost").val(Number.parseFloat($("#DRFFinanceApproval_TranslationCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_OtherCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_OtherCost").val(Number.parseFloat($("#DRFFinanceApproval_OtherCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_BECost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_BECost").val(Number.parseFloat($("#DRFFinanceApproval_BECost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_BioCost").focusout(function () {
        if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
        }
		$("#DRFFinanceApproval_BioCost").val(Number.parseFloat($("#DRFFinanceApproval_BioCost").val()).toFixed(2));
		CalculatenetContribution();
	});

	$("#DRFFinanceApproval_CTCost").focusout(function () {
		if ($(this).val() == null || $(this).val() == "" || $(this).val() == undefined) {
			$(this).val(0.00);
			CalculatenetContribution();
		}
		$("#DRFFinanceApproval_CTCost").val(Number.parseFloat($("#DRFFinanceApproval_CTCost").val()).toFixed(2));
		CalculatenetContribution();
	});


	function CalculatenetContribution() {
		var expenses = parseFloat($('#DRFFinanceApproval_Expenses').val() || 0);
		var filingCost = parseFloat($('#DRFFinanceApproval_FilingCost').val() || 0);
		var LitigationCost = parseFloat($('#DRFFinanceApproval_LitigationCost').val() || 0);
		var FreightCost = parseFloat($('#DRFFinanceApproval_FreightCost').val() || 0);
		var RegistrationCost = parseFloat($('#DRFFinanceApproval_RegistrationCost').val() || 0);
		var ConsultantCost = parseFloat($('#DRFFinanceApproval_ConsultantCost').val() || 0);
		var LegalizationCost = parseFloat($('#DRFFinanceApproval_LegalizationCost').val() || 0);
		var TranslationCost = parseFloat($('#DRFFinanceApproval_TranslationCost').val() || 0);
		var OtherCost = parseFloat($('#DRFFinanceApproval_OtherCost').val() || 0);
		var BECost = parseFloat($('#DRFFinanceApproval_BECost').val() || 0);
		var BioCost = parseFloat($('#DRFFinanceApproval_BioCost').val() || 0);
		var CTCost = parseFloat($('#DRFFinanceApproval_CTCost').val() || 0);

		var ttotalContribution = parseFloat($('#DRFFinanceApproval_TotalContribution').val() || 0);
		var netContributionMinus = (expenses + LitigationCost + FreightCost + RegistrationCost + ConsultantCost + LegalizationCost + TranslationCost + OtherCost + BECost + BioCost + CTCost).toFixed(2);

		var netContribution = (ttotalContribution - netContributionMinus).toFixed(2);
		$('#DRFFinanceApproval_NetContribution').val(netContribution);
	}

	function convertDDMMYYY(tempDate) {
        return tempDate.split('-')[2] + '-' + tempDate.split('-')[1] + '-' + tempDate.split('-')[0];
	}

	var arrManufacturingAPISite = [];
	var arrAPISite = [];
	var arrAPIId = [];
	var arrMAPIID = [];
	var mapiID = 0;

	$("#addrow_for_Api").on("click", function () {
		var isValid = true;

		if ($('#APISite').val() == null || $('#APISite').val() == "" || $('#APISite').val() == undefined) {
			isValid = false;
			$('#DRF_APISite_Error').empty().append("The 'APISite' field is required.");
		}
		else {
			$('#DRF_APISite_Error').empty();
		}
        if ($('#APIName').val() == null || $('#APIName').val() == "" || $('#APIName').val() == undefined) {
            isValid = false;
            $('#DRF_APIName_Error').empty().append("The 'APIName' field is required.");
        }
        else {
            $('#DRF_APIName_Error').empty();
        }
		
		if ($('#cmbSOM').val() == null || $('#cmbSOM').val() == "" || $('#cmbSOM').val() == undefined) {
			isValid = false;
			$('#DRF_cmbSOM_Error').empty().append("The 'API' field is required.");
		}
		else {
			$('#DRF_cmbSOM_Error').empty();
		}


		if (isValid) {

			var tempAPISite = $('#APISite').val();
            var tempAPIName = $('#APIName').val();
			var tempcmbSOMid = $('#cmbSOM').val();
			var tempcmbSOM = $("#cmbSOM option:selected").text(); 

			var newRow = $("<tr id='" + counter + "'>");
			var cols = "";
			
            cols += '<td><input type="text" class="form-control" value="' + tempcmbSOM + '" readonly/></td>';
            cols += '<td><input type="text" class="form-control" value="' + tempAPIName + '" readonly/></td>';
			cols += '<td><input type="text" class="form-control" value="' + tempAPISite + '" readonly/></td>';
            

			cols += '<td><button type="button" class="ibtnDel btn btn-sm btn-danger"><i class="far fa-trash-alt"></i></button></td>';
			newRow.append(cols);
			$("table.order-listAPI").append(newRow);


			var temp = {				

                CounterID: counter,
                APIID: tempcmbSOMid,
                //MAPIID: mapiID,
                APIName: tempAPIName,
                APISiteName: tempAPISite
			};
			//console.log(temp);
			arrManufacturingAPISite.push(temp);
			//mapiID = 0;			

			counter++;
			clearRow();
		}
	});

	function clearRow() {
		$('#APISite').val("");
        $('#APIName').val("");
		$('#cmbSOM').val("");

    }
    

    //ABOVE CODE COMMENT BY SONALI NEW CODE HERE FOR mnaufacturing delete record----------->
    $("table.order-listAPI").on("click", ".ibtnDelMan", function (event) {
        var get_id = $(this).parent().parent().attr('id');
        $(this).closest("tr").remove();
        for (var i = 0; i < arrManufacturingAPISite.length; i++) {
            //console.log(arrManufacturingAPISite);
            if (arrManufacturingAPISite[i].CounterID == get_id) {
                arrManufacturingAPISite.splice(i, 1);
            }
        }
    });

    $("table.order-listAPI").on("click", ".ibtnEditMan", function (event) {
        var get_id = $(this).parent().parent().attr('id');

        $(this).closest("tr").remove();
        
        var mandata = arrManufacturingAPISite.filter(element => element.CounterID == get_id);
        
        for (i = 0; i < mandata.length; i++) {
            $('#cmbSOM option[value="' + mandata[i].APIId + '"]').prop("selected", true);
            $('#APIName').val(mandata[i].APIName);
            $('#APISite').val(mandata[i].APISiteName);                     

        }

        for (var i = 0; i < arrManufacturingAPISite.length; i++) {
            if (arrManufacturingAPISite[i].CounterID == get_id) {
                arrManufacturingAPISite.splice(i, 1);
            }
        }      


    });


    //END edit & delete manufacturing----->




    //IP DEtails delete and update code by -sonali gore---->
    //delete--
    $("table.order-list").on("click", ".ibtnDel", function (event) {
        var get_id = $(this).parent().parent().attr('id');
        //alert(get_id);
        $(this).closest("tr").remove();

        for (var i = 0; i < detailsArray.length; i++) {
            if (detailsArray[i].CounterID == get_id) {
                detailsArray.splice(i, 1);
            }
        }

        //console.log(detailsArray);
    });

    


    //edit--------------------->
    $("table.order-list").on("click", ".ibtnEdit", function (event) {
        var get_id = $(this).parent().parent().attr('id');        
        $(this).closest("tr").remove();

        var ardata = detailsArray.filter(element => element.CounterID == get_id);
               
        for (i = 0; i < ardata.length; i++) {         
            $('#PatentNumbers').val(ardata[i].PatentNumbers);
            $('#OriginalExpiryDate').val(ardata[i].OriginalExpiryDate);
           
            $('#Type').val(ardata[i].Type);

            $('#ExtensionApplication').val(ardata[i].ExtensionApplication);

            $('#ExtnExpiryDate').val(ardata[i].ExtnExpiryDate);
            $('#Comment').val(ardata[i].Comment);
            $('#Strategy').val(ardata[i].Strategy);
        }

        for (var i = 0; i < detailsArray.length; i++) {
            if (detailsArray[i].CounterID == get_id) {
                detailsArray.splice(i, 1);
            }
        }

    });
    //end IP

	$(function () {
		$("#addexpence").click(function () {
			$(".custom-row").toggleClass("show-expence");
			$(this).toggleClass("active");
		});
	});

</script>
